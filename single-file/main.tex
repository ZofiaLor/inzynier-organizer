% !TeX spellcheck = pl_PL
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
% Szablon pracy dyplomowej inzynierskiej %
% zgodny  z aktualnymi  przepisami  SZJK %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
%  (c) Krzysztof Simiński, 2018-2023     %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
% Najnowsza wersja szablonów jest        %
% podstępna pod adresem                  %
% github.com/ksiminski/polsl-aei-theses  %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% Projekt LaTeXowy zapewnia odpowiednie formatowanie pracy,
% zgodnie z wymaganiami Systemu zapewniania jakości kształcenia.
% Proszę nie zmieniać ustawień formatowania (np. fontu,
% marginesów, wytłuszczeń, kursywy itd. ).
%
% Projekt można kompilować na kilka sposobów.
%
% 1. kompilacja pdfLaTeX
%
% pdflatex main
% bibtex   main
% pdflatex main
% pdflatex main
%
%
% 2. kompilacja XeLaTeX
%
% Kompilatacja przy użyciu XeLaTeXa różni się tym, że na stronie
% tytułowej używany jest font Calibri. Wymaga to jego uprzedniego
% zainstalowania.
%
% xelatex main
% bibtex  main
% xelatex main
% xelatex main
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% W przypadku pytań, uwag, proszę pisać na adres:   %
%      krzysztof.siminski(małpa)polsl.pl            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Chcemy ulepszać szablony LaTeXowe prac dyplomowych.
% Wypełniając ankietę spod poniższego adresu pomogą
% Państwo nam to zrobić. Ankieta jest całkowicie
% anonimowa. Dziękujemy!


% https://docs.google.com/forms/d/e/1FAIpQLScyllVxNKzKFHfILDfdbwC-jvT8YL0RSTFs-s27UGw9CKn-fQ/viewform?usp=sf_link
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PERSONALIZACJA PRACY – DANE PRACY           %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Proszę wpisać swoje dane w poniższych definicjach.

% TODO
% dane autora
\newcommand{\FirstNameAuthor}{Zofia}
\newcommand{\SurnameAuthor}{Lorenc}
\newcommand{\IdAuthor}{300306}   % numer albumu  (bez $\langle$ i $\rangle$)

% drugi autor:
%\newcommand{\FirstNameCoauthor}{Imię}   % Jeżeli jest drugi autor, to tutaj należy podać imię.
%\newcommand{\SurnameCoauthor}{Nazwisko} % Jeżeli jest drugi autor, to tutaj należy podać nazwisko.
%\newcommand{\IdCoauthor}{$\langle$wpisać właściwy$\rangle$}  % numer albumu drugiego autora (bez $\langle$ i $\rangle$)
% Gdy nie ma drugiego autora, należy zostawić poniższe definicje puste, jak poniżej. Gdy jest drugi autor, należy zakomentować te linie.
\newcommand{\FirstNameCoauthor}{} % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
\newcommand{\SurnameCoauthor}{}   % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
\newcommand{\IdCoauthor}{}  % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
%%%%%%%%%%

\newcommand{\Supervisor}{dr hab. inż. Krzysztof Simiński}     % dane promotora (bez $\langle$ i $\rangle$)
\newcommand{\Title}{Webowy organizer notatek, wydarzeń i zadań}           % tytuł pracy po polsku
\newcommand{\TitleAlt}{Web organizer of notes, events, and tasks}                     % thesis title in English
\newcommand{\Program}{Informatyka}            % kierunek studiów  (bez $\langle$ i $\rangle$)
\newcommand{\Specialisation}{Bazy Danych i Inżynieria Systemów}     % specjalność  (bez $\langle$ i $\rangle$)
\newcommand{\Departament}{ALGORYTMIKI I OPROGRAMOWANIA}        % katedra promotora  (bez $\langle$ i $\rangle$)

% Jeżeli został wyznaczony promotor pomocniczy lub opiekun, proszę go/ją wpisać ...
\newcommand{\Consultant}{} % dane promotora pomocniczego, opiekuna (bez $\langle$ i $\rangle$)
% ... w przeciwnym razie proszę zostawić puste miejsce jak poniżej:
%\newcommand{\Consultant}{} % brak promotowa pomocniczego / opiekuna

% koniec fragmentu do modyfikacji
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC PERSONALIZACJI PRACY                 %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PROSZĘ NIE MODYFIKOWAĆ PONIŻSZYCH USTAWIEŃ! %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\documentclass[a4paper,twoside,12pt]{book}
\usepackage[utf8]{inputenc}                                      
\usepackage[T1]{fontenc}  
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage[british,polish]{babel} 
\usepackage{indentfirst}
\usepackage{xurl}
\usepackage{xstring}
\usepackage{ifthen}



\usepackage{ifxetex}

\ifxetex
	\usepackage{fontspec}
	\defaultfontfeatures{Mapping=tex—text} % to support TeX conventions like ``——-''
	\usepackage{xunicode} % Unicode support for LaTeX character names (accents, European chars, etc)
	\usepackage{xltxtra} % Extra customizations for XeLaTeX
\else
	\usepackage{lmodern}
\fi



\usepackage[margin=2.5cm]{geometry}
\usepackage{graphicx} 
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{mathtools}
\usepackage{geometry}
\usepackage{subcaption}   % subfigures
\usepackage[page]{appendix} % toc,
\renewcommand{\appendixtocname}{Dodatki}
\renewcommand{\appendixpagename}{Dodatki}
\renewcommand{\appendixname}{Dodatek}

\usepackage{csquotes}
\usepackage[natbib=true,backend=bibtex,maxbibnames=99]{biblatex}  % kompilacja bibliografii BibTeXem
%\usepackage[natbib=true,backend=biber,maxbibnames=99]{biblatex}  % kompilacja bibliografii Biberem
\bibliography{biblio}

\usepackage{ifmtarg}   % empty commands  

\usepackage{setspace}
\onehalfspacing


\frenchspacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% środowiska dla definicji, twierdzenia, przykładu
\usepackage{amsthm}

\newtheorem{Definition}{Definicja}
\newtheorem{Example}{Przykład}
\newtheorem{Theorem}{Twierdzenie}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% TODO LIST GENERATOR %%%%%%%%%

\usepackage{color}
\definecolor{brickred}      {cmyk}{0   , 0.89, 0.94, 0.28}

\makeatletter \newcommand \kslistofremarks{\section*{Uwagi} \@starttoc{rks}}
  \newcommand\l@uwagas[2]
    {\par\noindent \textbf{#2:} %\parbox{10cm}
{#1}\par} \makeatother


\newcommand{\ksremark}[1]{%
{%\marginpar{\textdbend}
{\color{brickred}{[#1]}}}%
\addcontentsline{rks}{uwagas}{\protect{#1}}%
}

\newcommand{\comma}{\ksremark{przecinek}}
\newcommand{\nocomma}{\ksremark{bez przecinka}}
\newcommand{\styl}{\ksremark{styl}}
\newcommand{\ortografia}{\ksremark{ortografia}}
\newcommand{\fleksja}{\ksremark{fleksja}}
\newcommand{\pauza}{\ksremark{pauza `--', nie dywiz `-'}}
\newcommand{\kolokwializm}{\ksremark{kolokwializm}}
\newcommand{\cudzyslowy}{\ksremark{,,polskie cudzysłowy''}}

%%%%%%%%%%%%%% END OF TODO LIST GENERATOR %%%%%%%%%%%

\newcommand{\printCoauthor}{%		
    \StrLen{\FirstNameCoauthor}[\FNCoALen]
    \ifthenelse{\FNCoALen > 0}%
    {%
		{\large\bfseries\Coauthor\par}
	
		{\normalsize\bfseries \LeftId: \IdCoauthor\par}
    }%
    {}
} 

%%%%%%%%%%%%%%%%%%%%%
\newcommand{\autor}{%		
    \StrLen{\FirstNameCoauthor}[\FNCoALenXX]
    \ifthenelse{\FNCoALenXX > 0}%
    {\FirstNameAuthor\ \SurnameAuthor, \FirstNameCoauthor\ \SurnameCoauthor}%
	{\FirstNameAuthor\ \SurnameAuthor}%
}
%%%%%%%%%%%%%%%%%%%%%

\StrLen{\FirstNameCoauthor}[\FNCoALen]
\ifthenelse{\FNCoALen > 0}%
{%
\author{\FirstNameAuthor\ \SurnameAuthor, \FirstNameCoauthor\ \SurnameCoauthor}
}%
{%
\author{\FirstNameAuthor\ \SurnameAuthor}
}%

%%%%%%%%%%%% ZYWA PAGINA %%%%%%%%%%%%%%%
% brak kapitalizacji zywej paginy
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO]{\nouppercase{\it\rightmark}}
\fancyhead[RE]{\nouppercase{\it\leftmark}}
\fancyhead[LE,RO]{\it\thepage}


\fancypagestyle{tylkoNumeryStron}{%
   \fancyhf{} 
   \fancyhead[LE,RO]{\it\thepage}
}

\fancypagestyle{bezNumeracji}{%
   \fancyhf{} 
   \fancyhead[LE,RO]{}
}


\fancypagestyle{NumeryStronNazwyRozdzialow}{%
   \fancyhf{} 
   \fancyhead[LE]{\nouppercase{\autor}}
   \fancyhead[RO]{\nouppercase{\leftmark}} 
   \fancyfoot[CE, CO]{\thepage}
}


%%%%%%%%%%%%% OBCE WTRETY  
\newcommand{\obcy}[1]{\emph{#1}}
\newcommand{\english}[1]{{\selectlanguage{british}\obcy{#1}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% polskie oznaczenia funkcji matematycznych
\renewcommand{\tan}{\operatorname {tg}}
\renewcommand{\log}{\operatorname {lg}}

% jeszcze jakies drobiazgi

\newcounter{stronyPozaNumeracja}

%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\printOpiekun}[1]{%		

    \StrLen{\Consultant}[\mystringlen]
    \ifthenelse{\mystringlen > 0}%
    {%
       {\large{\bfseries OPIEKUN, PROMOTOR POMOCNICZY}\par}
       
       {\large{\bfseries \Consultant}\par}
    }%
    {}
} 
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
% Proszę nie modyfikować poniższych definicji!
\newcommand{\Author}{\FirstNameAuthor\ \MakeUppercase{\SurnameAuthor}} 
\newcommand{\Coauthor}{\FirstNameCoauthor\ \MakeUppercase{\SurnameCoauthor}}
\newcommand{\Type}{PROJEKT INŻYNIERSKI}
\newcommand{\Faculty}{Wydział Automatyki, Elektroniki i Informatyki} 
\newcommand{\Polsl}{Politechnika Śląska}
\newcommand{\Logo}{politechnika_sl_logo_bw_pion_pl.pdf}
\newcommand{\LeftId}{Nr albumu}
\newcommand{\LeftProgram}{Kierunek}
\newcommand{\LeftSpecialisation}{Specjalność}
\newcommand{\LeftSUPERVISOR}{PROWADZĄCY PRACĘ}
\newcommand{\LeftDEPARTMENT}{KATEDRA}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC USTAWIEŃ                             %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% MOJE PAKIETY, USTAWIENIA ITD                %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Tutaj proszę umieszczać swoje pakiety, makra, ustawienia itd.


 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% listingi i fragmentu kodu źródłowego 
% pakiet: listings lub minted
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

% biblioteka listings
\usepackage{listings}
\lstset{%
morekeywords={string,exception,std,vector},% słowa kluczowe rozpoznawane przez pakiet listings
language=C++,% C, Matlab, Python, SQL, TeX, XML, bash, ... – vide https://www.ctan.org/pkg/listings
commentstyle=\textit,%
identifierstyle=\textsf,%
keywordstyle=\sffamily\bfseries, %\texttt, %
%captionpos=b,%
tabsize=3,%
frame=lines,%
numbers=left,%
numberstyle=\tiny,%
numbersep=5pt,%
breaklines=true,%
escapeinside={@*}{*@},%
}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% pakiet minted
\usepackage{minted}

% pakiet wymaga specjalnego kompilowania:
% pdflatex -shell-escape main.tex
% xelatex  -shell-escape main.tex

%\usepackage[chapter]{minted} % [section]
%%\usemintedstyle{bw}   % czarno-białe kody 
%
%\setminted % https://ctan.org/pkg/minted
%{
%%fontsize=\normalsize,%\footnotesize,
%%captionpos=b,%
%tabsize=3,%
%frame=lines,%
%framesep=2mm,
%numbers=left,%
%numbersep=5pt,%
%breaklines=true,%
%escapeinside=@@,%
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC MOICH USTAWIEŃ                       %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}
\kslistofremarks

\frontmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PROSZĘ NIE MODYFIKOWAĆ STRONY TYTUŁOWEJ!    %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%  STRONA TYTUŁOWA %%%%%%%%%%%%%%%%%%%
\pagestyle{empty}
{
	\newgeometry{top=1.5cm,%
	             bottom=2.5cm,%
	             left=3cm,
	             right=2.5cm}
 
	\ifxetex 
	  \begingroup
	  \setsansfont{Calibri}
	   
	\fi 
	 \sffamily
	\begin{center}
	\includegraphics[width=50mm]{\Logo}
	 
	
	{\Large\bfseries\Type\par}
	
	\vfill  \vfill  
			 
	{\large\Title\par}
	
	\vfill  
		
	{\large\bfseries\Author\par}
	
	{\normalsize\bfseries \LeftId: \IdAuthor}

	\printCoauthor
	
	\vfill  		
 
	{\large{\bfseries \LeftProgram:} \Program\par} 
	
	{\large{\bfseries \LeftSpecialisation:} \Specialisation\par} 
	 		
	\vfill  \vfill 	\vfill 	\vfill 	\vfill 	\vfill 	\vfill  
	 
	{\large{\bfseries \LeftSUPERVISOR}\par}
	
	{\large{\bfseries \Supervisor}\par}
				
	{\large{\bfseries \LeftDEPARTMENT\ \Departament} \par}
		
	{\large{\bfseries \Faculty}\par}
		
	\vfill  \vfill  

    	
    \printOpiekun{\Consultant}
    
	\vfill  \vfill  
		
    {\large\bfseries  Gliwice \the\year}

   \end{center}	
       \ifxetex 
       	  \endgroup
       \fi
	\restoregeometry
}
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC STRONY TYTUŁOWEJ                     %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  


\cleardoublepage

\rmfamily\normalfont
\pagestyle{empty}


%%% No to zaczynamy pisać pracę :-) %%%%

% TODO
\subsubsection*{Tytuł pracy} 
\Title

\subsubsection*{Streszczenie}  
Organizer to wykorzystująca bazę danych aplikacja webowa pozwalająca na tworzenie i udostępnianie zalogowanym użytkownikom plików: notatek, wydarzeń i zadań oraz dodawanie do nich powiadomień. Ponadto ułatwia ona umawianie terminów wydarzeń dzięki funkcjonalności głosowania.

\subsubsection*{Słowa kluczowe} 
Angular, MySQL, Spring, Organizer

\subsubsection*{Thesis title} 
\begin{otherlanguage}{british}
\TitleAlt
\end{otherlanguage}

\subsubsection*{Abstract} 
\begin{otherlanguage}{british}
Organizer is a web application that uses database and allows logged users to create and share files: events, notes and tasks, and add reminders for them. Moreover, it helps deciding on event dates thanks to its voting functionality.
\end{otherlanguage}
\subsubsection*{Key words}  
\begin{otherlanguage}{british}
Angular, MySQL, Spring, Organizer
\end{otherlanguage}




%%%%%%%%%%%%%%%%%% SPIS TRESCI %%%%%%%%%%%%%%%%%%%%%%
% Add \thispagestyle{empty} to the toc file (main.toc), because \pagestyle{empty} doesn't work if the TOC has multiple pages
\addtocontents{toc}{\protect\thispagestyle{empty}}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{stronyPozaNumeracja}{\value{page}}
\mainmatter
\pagestyle{empty}

\cleardoublepage

\pagestyle{NumeryStronNazwyRozdzialow}

%%%%%%%%%%%%%% wlasciwa tresc pracy %%%%%%%%%%%%%%%%%

% TODO
\chapter{Wstęp}
\label{ch:wstep}

% \begin{itemize}
% \item wprowadzenie w problem/zagadnienie
% \item osadzenie problemu w dziedzinie
% \item cel pracy
% \item zakres pracy
% \item zwięzła charakterystyka rozdziałów
% \item jednoznaczne określenie wkładu autora, w przypadku prac wieloosobowych – tabela z autorstwem poszczególnych elementów pracy
% \end{itemize}

Obecnie wiele programów tworzonych jest w formie aplikacji przeglądarkowych. Aplikacje takie są niezależne od systemu operacyjnego użytkownika i nie wymagają instalacji, dzięki czemu są łatwiejsze i wygodniejsze w obsłudze.
%
Przykładami takich aplikacji są produkty Google: Google Calendar oraz Google Docs, jak i ich odpowiedniki należące do firmy Microsoft, takie jak aplikacje pakietu Microsoft Office. \ksremark{Dodałbym jeszcze jakieś przykłady poza GAFAM.} Pozwalają one na tworzenie różnych rodzajów plików i udostępnianie ich innym użytkownikom.

\ksremark{Celem niniejszej pracy dyplomowej jest zaprojektowanie i implementacja …} Organizer, podobnie jak wymienione aplikacje, pozwalać będzie na tworzenie różnych plików -- w tym przypadku są to typy powiązane z organizacją i planowaniem: notatki, wydarzenia i zadania. Będą one mogły być grupowane w katalogach, udostępniane, dodawać będzie można powiadomienia. 

Na tle innych aplikacji wyróżniać ją będzie funkcjonalność głosowania na terminy wydarzeń. Obecnie umawianie się na spotkania odbywa się na przykład na czatach internetowych, gdzie każdy musi wyrazić swoją opinię na temat preferowanej daty i godziny, przez co też często gubione są szczegóły. W aplikacji organizera, właściciel wydarzenia (użytkownik, który je utworzył) będzie mógł zdefiniować dowolną liczbę terminów, a każdy użytkownik mający do tego wydarzenia dostęp będzie mógł oddać na nie głosy. Jako że wszystko odbywa się w tym samym programie, zastosowanie tak wybranego terminu jest bardzo proste, a dodatkowe informacje dotyczące tego wydarzenia pozostają łatwo dostępne.

Podstawowymi założeniami aplikacji są intuicyjność i bezpieczeństwo. Aplikacja musi być prosta w obsłudze, aby każdy był w stanie z niej skorzystać. Użytkownicy muszą też mieć pewność, że ich hasła nie zostaną przechwycone.
%
Projekt będzie mieć postać aplikacji webowej. Do przechowywania danych użytkowników, ich plików i innych potrzebnych informacji, jak i ich odczytu i modyfikacji, konieczne będzie wykorzystanie bazy danych -- w tym przypadku MySQL. Do implementacji back-endu wykorzystany zostanie framework Spring dla języka Java, który pozwala między innymi na korzystanie z Java Persistance API oraz ułatwia implementację autentykacji i autoryzacji użytkowników. Do wykonania front-endu posłuży framework Angular, w którym korzysta się z języka TypeScript.

% Organizer ma za zadanie pomóc użytkownikowi w planowaniu. Będzie więc możliwe tworzenie wydarzeń, mających miejsce w podanych terminach i miejscach, a także zadań, posiadających pewien termin wykonania, które można oznaczyć jako wykonane lub niewykonane. Ponadto dostępny będzie trzeci rodzaj pliku: notatka, będąca prostszą wersją pozostałych plików -- zawiera tylko opis. Pliki umieszczać będzie można w katalogach, a same katalogi tworzyć będą strukturę hierarchiczną (w katalogu znajdować się mogą inne katalogi). Wszystkie elementy (pliki i katalogi) będzie można przenosić między katalogami.

% Aby móc przypisać użytkownikom pliki, będą się oni musieli zarejestrować i zalogować w aplikacji. Dla użytkowników zalogowanych będzie możliwość edycji swojego profilu, jak i trwałego usunięcia konta.

% Aplikacja będzie więc przechowywać dane użytkowników, takie jak hasła oraz pliki o prywatnej zawartości. Zapewnione będą więc zabezpieczenia przed odczytem tych danych przez innych użytkowników.

% Każdy plik i katalog właściciel (użytkownik, który je utworzył) będzie mógł udostępnić wybranym innym użytkownikom. Dostęp będzie mógł być tylko do wyświetlenia, lub do wyświetlenia i edycji. Dostęp do katalogu będzie dziedziczony przez znajdujące się w nim elementy.

% Użytkownik będzie mógł dodać powiadomienia przypominające o dowolnym pliku. Każde powiadomienie będzie mieć określony czas wysłania, po którym pokażą się w odpowiednim miejscu interfejsu.

% Aby ułatwić organizację wspólnych wydarzeń, każde z nich posiadać będzie panel głosowania na terminy. Właściciel wydarzenia może zdefiniować dowolną liczbę terminów, na które następnie każdy użytkownik, któremu udostępniono to wydarzenie (w tym właściciel) będzie mógł oddać głos: negatywny, neutralny lub pozytywny. Dzięki temu prościej będzie znaleźć termin, który odpowiada jak największej liczbie osób.

% Użytkownikami zarządzać będzie administrator. Będzie on mógł przeglądać listę wszystkich użytkowników i usuwać ich konta, bądź przydzielać i odbierać im rolę administratora.

% TODO
\chapter{Analiza tematu}

% \begin{itemize}
% \item sformułowanie problemu
% \item osadzenie tematu w kontekście aktualnego stanu wiedzy (\english{state of the art}) o poruszanym problemie
% \item  studia literaturowe \cite{bib:artykul,bib:ksiazka,bib:konferencja,bib:internet} -  opis znanych rozwiązań (także opisanych naukowo, jeżeli problem jest poruszany w publikacjach naukowych), algorytmów, 
% \end{itemize}

\section{Opis problemu}
Aplikacja w dużym stopniu oparta jest na interakcji z użytkownikiem, który w każdym momencie użytkowania ma wiele dostępnych mu działań. Wyzwaniem jest więc nie zaprojektowanie złożonej logiki programu, a zapewnienie poprawnego działania dla wszelkich danych wejściowych pobranych od użytkownika. Zabezpieczenia takie muszą pojawić się od strony interfejsu, który powinien maksymalnie ograniczać możliwość wprowadzenia niepoprawnych danych, ale i od strony back-endu \ksremark{Proszę sprawdzić, czy «back-end» jest zawsze zapisywany w ten sam sposób. Chodzi o to, żebyśmy mieli jeden konsekwentnie stosowany zapis.}, gdzie weryfikować należy przychodzące zapytania HTTP. Zawartość odpowiedzi HTTP jest łatwo dostępna w inspektorze przeglądarki, dlatego już na jej poziomie nie mogą być dostępne dane wrażliwe (hasła \ksremark{Czy tylko hasło, czy coś jeszcze jest daną wrażliwą?}), a nie dopiero na poziomie interfejsu.

Jedną z zalet aplikacji przeglądarkowych jest możliwość zapisywania odnośników do stron, na przykład do konkretnego pliku. Oznacza to jednak, że nawet dokładnie zaprojektowany interfejs nie pozwoli na pełną kontrolę ścieżki, którą użytkownik poruszać się będzie po programie. Zmieniając adres w przeglądarce, może on w dowolnym momencie usiłować dostać się do nieistniejących bądź nieudostępnionych mu zasobów.

Drugim problemem związanym z wykorzystaniem odnośników jest fakt, że użycie ich wiąże się z przeładowywaniem \ksremark{Czy istnieje jakiś synonim? «Przeładowanie» można różnie rozumieć.} aplikacji, a co za tym idzie -- z utratą przechowywanych w niej danych. Aby zachować ciągłość działania, każdorazowo konieczne są odwołania do bazy danych, a także pamięci przeglądarki: ciasteczek, pamięci lokalnej i pamięci sesji.

Każda zmiana danych wyświetlanych w interfejsie graficznym front-endu \ksremark{Tak samo jak z back-endem, proszę sprawdzić, czy mamy zawsze jeden zapis.}, która zachodzi w bazie danych, musi jednocześnie być niezależnie przeprowadzana na obiektach front-endu. Każdorazowe pobieranie danych z bazy skutkowałoby miganiem obrazu, a asynchroniczność wykonywania operacji w back-endzie oznacza, że pobrane dane wciąż mogłyby nie odzwierciedlać stanu bazy.

\section{Istniejące rozwiązania}
\subsection{Google Calendar}
Popularną aplikacją służącą do zarządzania wydarzeniami i zadaniami jest Google Calendar. Zadania można dodać do kalendarza, ustawić ich termin oraz opis. Wydarzenia pozwalają ponadto między innymi na dodanie osób uczestniczących, miejsca wydarzenia i powiadomień.
\subsection{Google Docs, Google Drive}
Aplikacja Google Docs pozwala na tworzenie różnych rodzajów plików -- dokumentów tekstowych, prezentacji multimedialnych, arkuszy kalkulacyjnych -- i zapisywanie ich na dysku Google Drive. Pliki i foldery na dysku można udostępniać innym użytkownikom, dodając ich pojedynczo bądź grupowo, jak i udostępniając link. Udostępnienie ma trzy możliwe poziomy dostępu: tylko przeglądanie, komentowanie oraz edytowanie. Udostępnienie folderu przyznaje dostęp do wszystkich plików i podfolderów w nim się znajdujących.
\subsection{Produkty Microsoft Office}
Analogiczne funkcjonalności zapewniają aplikacje pakietu Microsoft Office. Programy typu OneNote, Word, PowerPoint, Excel pozwalają na tworzenie i udostępnianie plików różnych typów. Kalendarz pakietu Office pozwala na tworzenie wydarzeń, dodawanie do niego innych użytkowników i planowanie na ich podstawie spotkań w aplikacji Microsoft Teams.

\ksremark{Czy istnieją jakieś rozwiązania poza GAFAM?} 

% TODO
\chapter{Wymagania i narzędzia}
\label{ch:wymagania-i-narzedzia}

% \begin{itemize}
% \item wymagania funkcjonalne i niefunkcjonalne
% \item przypadki użycia (diagramy UML) -- dla prac, w których mają zastosowanie
% \item opis narzędzi, metod eksperymentalnych, metod modelowania itp.
% \item metodyka pracy nad projektowaniem i implementacją -- dla prac, w których ma to zastosowanie
% \end{itemize}

\section{Wymagania funkcjonalne}

\subsection{Użytkownicy}
Znaczna większość funkcjonalności aplikacji wymaga, aby znany był aktualnie zalogowany użytkownik -- od edycji profilu po przeglądanie plików. Ponadto istnieć powinien użytkownik specjalny (administrator), który zarządzać może pozostałymi użytkownikami. Wyróżnić można więc 3 rodzaje użytkowników:
\begin{description}
	\item [U.1] User -- użytkownik zwykły: edytuje profil, tworzy, przegląda, modyfikuje, usuwa, udostępnia elementy.
	\item [U.2] Admin -- administrator: posiada dostęp do wszystkich funkcjonalności użytkownika zwykłego, zarządza użytkownikami -- nadaje i odbiera uprawnienia administratorskie, usuwa użytkowników.
	\item [U.3] Anonymous -- użytkownik niezalogowany: loguje lub rejestruje się.
\end{description}	

Zależności między użytkownikami przedstawiono na rys. \ref{fig:uml-users}.

\begin{figure}
\centering
\includegraphics{./UML-Users.png}
\caption{Użytkownicy aplikacji.}
\label{fig:uml-users}
\end{figure}


\subsection{Funkcjonalności}
Dostępne użytkownikowi funkcje aplikacji można ogólnie podzielić na operacje związane z kontem -- autoryzacją i edycją -- oraz związane z plikami -- przeglądanie, edycja, tworzenie nowych plików.
\begin{description}
	\item [F.1.] Autentykacja użytkowników
	\begin{description}
		\item [F.1.1.] Logowanie użytkownika U.3. na istniejące konto przy pomocy nazwy użytkownika oraz hasła.
		\item [F.1.2.] Wylogowanie zalogowanego użytkownika (U.1., U.2.).
		\item [F.1.3.] Rejestracja nowego użytkownika w systemie, umożliwiająca następnie zalogowanie (por. F.1.1.).
	\end{description}
	\item [F.2.] Zarządzanie elementami.
	\begin{description}
		\item [F.2.1.] Tworzenie nowego elementu.
		\item [F.2.2.] Wyświetlenie elementu. Dla należącego do innego użytkownika - zależne od przydzielonego dostępu (por. F.2.5.).
		\item [F.2.3.] Edycja elementu.
		\begin{description}
			\item [F.2.3.1.] Przeniesienie do innego katalogu.
			\item [F.2.3.2.] Zmiana nazwy.
			\item [F.2.3.3.] Mofyfikacja zawartości. Dla należącego do innego użytkownika - zależne od przydzielonego dostępu (por. F.2.5.).
			\item [F.2.3.4.] Modyfikacja opcji powiadomień.
			\item [F.2.3.5.] Oddawanie głosu na termin wydarzenia.
		\end{description}
		\item [F.2.4.] Usunięcie elementu.
		\item [F.2.5.] Przydział dostępu innym użytkownikom do elementów.
	\end{description}
	\item [F.3.] Zarządzanie kontem użytkownika.
	\begin{description}
		\item [F.3.1.] Edycja danych.
		\item [F.3.2.] Usunięcie konta.
	\end{description}
	\item [F.4.] Zarządzanie użytkownikami przez administratora (U.2.).
	\begin{description}
		\item [F.4.1.] Wyświetlenie wszystkich użytkowników systemu.
		\item [F.4.2.] Wyświetlenie jednego użytkownika.
		\item [F.4.3.] Nadanie bądź odebranie użytkownikowi uprawnień administratora.
		\item [F.4.4.] Usunięcie użytkownika.
	\end{description}
	\item [F.5.] Odporność na nieprawidłowe dane wejściowe.
\end{description}

Wymagania funkcjonalne dla poszczególnych użytkowników przedstawiono na rys. \ref{fig:uml-admin} \ksremark{(Admin)} , \ksremark{rys.} \ref{fig:uml-logged} \ksremark{(User)}, \ksremark{rys.} \ref{fig:uml-anon} \ksremark{(Anonymous)}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./UML-Admin.png}
\caption{Diagram przypadków użycia aplikacji dla administratora.}
\label{fig:uml-admin}
\end{figure}

\begin{figure}
\centering
\includegraphics[height=\textheight]{./UML-Logged.png}
\caption{Diagram przypadków użycia aplikacji dla zwykłego, zalogowanego użytkownika.}
\label{fig:uml-logged}
\end{figure}

\begin{figure}
\centering
\includegraphics{./UML-Anonymous.png}
\caption{Diagram przypadków użycia aplikacji dla użytkownika niezalogowanego.}
\label{fig:uml-anon}
\end{figure}

\section{Wymagania niefunkcjonalne}

Dla aplikacji wymagającej zalogowania przez użytkownika, służącej do przechowywania prywatnych informacji niezbędne jest zapewnienie bezpieczeństwa danych przed potencjalnym przechwyceniem. Hasła użytkowników muszą być przechowywane w formie zakodowanej, do minimum należy też ograniczyć przesyłanie ich do front-endu -- potrzebne są tylko do logowania, rejestracji oraz zmiany hasła.

Istotna również jest intuicyjność interfejsu użytkownika. Elementy interfejsu i ich zachowania powinny być podobne do takich, jakie można znaleźć w innych tego typu aplikacjach. Ponadto przyciski i formularze powinny zawierać informację, czego dotyczą, jakie operacje wykonują. Pomocne może być też zastosowanie ikon wraz z opisem tekstowym.

\section{Narzędzia}

Do implementacji back-endu wybrano framework Spring \cite{bib:spring}, pozwalający m.in. na pisanie aplikacji z wykorzystaniem Java Persistence API (Spring Data JPA) oraz proste zaimplementowanie autentykacji i autoryzacji użytkowników (Spring Security). Za wybraniem tego frameworku zamiast np. Entity Framework \cite{bib:entityframework} przemawiała również posiadana już wiedza o REST API oraz chęć pogłębienia znajomości samego Springa.
Wspieraną przez Spring bazę danych MySQL \cite{bib:mysql} oraz sam back-end postanowiono uruchomić w kontenerze Dockera \cite{bib:docker}.

Do testowania back-endu niezależnie od front-endu wykorzystano aplikację Postman \cite{bib:postman}. Pozwala ona na bezpośrednie wysyłanie zapytań HTTP m.in. metodami GET, POST, PUT, DELETE z ciałem w wybranym formacie, a także na przykład na przeglądanie ciasteczek.

Do wykonania front-endu posłużył framework Angular \cite{bib:angularnew,bib:angularold}. Podobnie jak w przypadku Springa, za tym wyborem przemawiało pragnienie pogłębienia wstępnej wiedzy o frameworku. Subiektywną zaletą jest też, w przeciwieństwie do popularniejszego \footnote{\url{https://trends.stackoverflow.co/?tags=reactjs,vue.js,angular,svelte,angularjs,vuejs3}, dostęp 08.11.2024} Reacta \cite{bib:react}, wyraźny rozdział na pliki HTML, CSS (SCSS) oraz TypeScript w ramach danego komponentu. 
Wykorzystano również komponenty Angular Material \cite{bib:angularmaterial}, dzięki którym w prosty sposób uzyskać można estetycznie i spójnie wyglądający interfejs graficzny, zgodny z wytycznymi Material Design firmy Google \cite{bib:material}. Wykorzystanie gotowych komponentów pozwala na skupienie się na samej logice programu. Do operacji matematycznych na datach użyto biblioteki Luxon \cite{bib:luxon}.


% TODO
\chapter{Specyfikacja zewnętrzna}
\label{ch:04}

% Jeśli „Specyfikacja zewnętrzna”:
% \begin{itemize}
% \item  wymagania sprzętowe i programowe
% \item  sposób instalacji
% \item  sposób aktywacji
% \item  kategorie użytkowników
% \item  sposób obsługi
% \item  administracja systemem
% \item  kwestie bezpieczeństwa
% \item  przykład działania
% \item  scenariusze korzystania z systemu (ilustrowane zrzutami z ekranu lub generowanymi dokumentami)
% \end{itemize}

\section{Uruchamianie}

\subsection{Wymagania}
Do uruchomienia programu potrzebne są: JDK wersja 17, Docker (w systemie Linux zainstalować można sam silnik Docker, w systemie Windows potrzebna jest aplikacja Docker Desktop) oraz Node.js, wraz z NPM (wykorzystano wersję 20). Program wykorzystywać będzie porty: 3306 (baza danych), 8080 (back-end) i 4200 (front-end) -- należy więc zadbać, aby żadna inna aplikacja nie korzystała z nich podczas uruchamiania.

\subsection{Instalacja}

Jeżeli spełnione zostały powyższe wymagania, można przejść do zbudowania i uruchomienia projektu. Pliki źródłowe projektu są dostępne w repozytorium pod adresem \url{https://github.com/ZofiaLor/inzynier-organizer}. Należy je w wybrany sposób pobrać i, w razie potrzeby, rozpakować.

\subsubsection{Back-end i baza danych}
\begin{enumerate}
   \item W wybranym terminalu należy ustawić bieżący katalog na \mintinline{bash}{organizer}. 

Znajdować się w nim powinny pliki \mintinline{bash}{mvnw} oraz \mintinline{bash}{mvnw.cmd}.
   \item Następnie należy uruchomić kontener zawierający bazę danych poleceniem 

\mintinline{bash}{docker compose up db}.
   \item Aby zbudować projekt należy użyć polecenia 

   \begin{itemize}
	\item Dla systemu Linux

	\mintinline{bash}{./mvnw install}
  
  W razie niepowodzenia, należy jako root otworzyć plik 
  
  \mintinline{bash}{/etc/hosts} 
  
  Dla edytora tekstowego \mintinline{bash}{nano} można to zrobić następującym poleceniem:
  
  \mintinline{bash}{sudo nano /etc/hosts} 
  
  Należy wpisać do niego linię \mintinline{bash}{127.0.0.1 db} i zapisać plik (w przypadku \mintinline{bash}{nano} nacisnąć kolejno: Ctrl+O, Enter, Ctrl+X). Następnie należy powtórzyć polecenie \mintinline{bash}{./mvnw install}.

	\item Dla systemu Windows

	\mintinline{powershell}{.\mvnw.cmd install}

	W razie niepowodzenia, należy jako administrator otworzyć plik 
  
  \mintinline{powershell}{C:\Windows\System32\drivers\etc\hosts} 
  
  Należy wpisać do niego linię \mintinline{powershell}{127.0.0.1 db} i zapisać plik. Następnie należy powtórzyć polecenie \mintinline{powershell}{.\mvnw.cmd install}.
\end{itemize}

 Po poprawnym wykonaniu polecenia, wygenerowany zostanie katalog \mintinline{bash}{target}, zawierający plik z rozszerzeniem \mintinline{bash}{.jar}.

	\item Przed uruchomieniem back-endu można zatrzymać kontener z bazą danych. Jeżeli korzysta się z programu Docker Desktop, wystarczy nacisnąć przycisk ,,stop'' przy kontenerze ,,db''.

	Aby zatrzymać kontener z poziomu terminala należy najpierw znaleźć jego identyfikator używając polecenia 

	\mintinline{bash}{docker ps}.

	Przykładowym wynikiem tego polecenia jest

	\begin{minted}[breaklines]{bash}
CONTAINER ID   IMAGE       COMMAND                  CREATED       STATUS              PORTS                               NAMES
c22ebdb94057   mysql:5.7   "docker-entrypoint.s…"   7 weeks ago   Up About a minute   0.0.0.0:3306->3306/tcp, 33060/tcp   organizer-db
	\end{minted}

	Następnie należy wykonać polecenie

	\mintinline{bash}{docker stop <CONTAINER ID>}

	wstawiając w miejsce <CONTAINER ID> identyfikator odczytany w poprzednim kroku (tu: c22ebdb94057).

	\item Obydwa kontenery należy zbudować poleceniem 

	\mintinline{bash}{docker compose build},

	a następnie uruchomić 

	\mintinline{bash}{docker compose up -d}.
    \end{enumerate}

\subsubsection{Front-end}

\begin{enumerate}
	 \item W wybranym terminalu należy ustawić bieżący katalog na \mintinline{bash}{organizer-front}.

	 \item Należy zainstalować wymagane pakiety poleceniami

	 \mintinline{bash}{npm install -g @angular/cli} 
	 
	 oraz
	 
	 \mintinline{bash}{npm install}

	 \item Aplikację należy uruchomić poleceniem

	 \mintinline{bash}{ng serve --proxy-config profxy.config.json}

	 \item W terminalu zostanie wypisany adres 

	 \mintinline{bash}{http://localhost:4200/}.

	Należy otworzyć go w wybranej przeglądarce wklejając go w polu adresu, bądź naciskając go lewym przyciskiem myszy, wciskając jednocześnie klawisz Ctrl.

	 \end{enumerate}

%%%%%%%%%%%%%%%%%%%%%
%% RYSUNEK Z PLIKU
%
%\begin{figure}
%\centering
%\includegraphics[width=0.5\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%\caption{Podpis rysunku zawsze pod rysunkiem.}
%\label{fig:etykieta-rysunku}
%\end{figure}
%Rys. \ref{fig:etykieta-rysunku} przestawia …
%%%%%%%%%%%%%%%%%%%%%
%
%%%%%%%%%%%%%%%%%%%%%
%% WIELE RYSUNKÓW 
%
%\begin{figure}
%\centering
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Lewy górny rysunek.}
%    \label{fig:lewy-gorny}
%\end{subfigure}
%\hfill
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Prawy górny rysunek.}
%    \label{fig:prawy-gorny}
%\end{subfigure}
%
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Lewy dolny rysunek.}
%    \label{fig:lewy-dolny}
%\end{subfigure}
%\hfill
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Prawy dolny rysunek.}
%    \label{fig:prawy-dolny}
%\end{subfigure}
%        
%\caption{Wspólny podpis kilku rysunków.}
%\label{fig:wiele-rysunkow}
%\end{figure}
%Rys. \ref{fig:wiele-rysunkow} przestawia wiele ważnych informacji, np. rys. \ref{fig:prawy-gorny} jest na prawo u góry.
%%%%%%%%%%%%%%%%%%%%%


 
% \begin{figure}
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%     y tick label style={
%         /pgf/number format/.cd,
%             fixed,   % po zakomentowaniu os rzednych jest indeksowana wykladniczo
%             fixed zerofill, % 1.0 zamiast 1
%             precision=1,
%         /tikz/.cd
%     },
%     x tick label style={
%         /pgf/number format/.cd,
%             fixed,
%             fixed zerofill,
%             precision=2,
%         /tikz/.cd
%     }
% ]
% \addplot [domain=0.0:0.1] {rnd};
% \end{axis} 
% \end{tikzpicture}
% \caption{Podpis rysunku po rysunkiem.}
% \label{fig:2}
% \end{figure}



% TODO
\chapter{Specyfikacja wewnętrzna}
\label{ch:05}


% Jeśli „Specyfikacja wewnętrzna”:
% \begin{itemize}
% \item przedstawienie idei
% \item architektura systemu
% \item opis struktur danych (i organizacji baz danych)
% \item komponenty, moduły, biblioteki, przegląd ważniejszych klas (jeśli występują)
% \item przegląd ważniejszych algorytmów (jeśli występują)
% \item szczegóły implementacji wybranych fragmentów, zastosowane wzorce projektowe
% \item diagramy UML
% \end{itemize}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% Pakiet minted wymaga importu: \usepackage{minted}                 %
% i specjalnego kompilowania:                                       %
% pdflatex -shell-escape main                                       %
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 


% Krótka wstawka kodu w linii tekstu jest możliwa, np.  \lstinline|int a;| (biblioteka \texttt{listings})% lub  \mintinline{C++}|int a;| (biblioteka \texttt{minted})
% . 
% Dłuższe fragmenty lepiej jest umieszczać jako rysunek, np. kod na rys \ref{fig:pseudokod:listings}% i rys. \ref{fig:pseudokod:minted}
% , a naprawdę długie fragmenty – w załączniku.


% \begin{figure}
% \centering
% \begin{lstlisting}
% class test : public basic
% {
%     public:
%       test (int a);
%       friend std::ostream operator<<(std::ostream & s, 
%                                      const test & t);
%     protected:
%       int _a;  
      
% };
% \end{lstlisting}
% \caption{Pseudokod w \texttt{listings}.}
% \label{fig:pseudokod:listings}
% \end{figure}

\section{Implementacja klas}

Zależności między klasami przedstawiono na rys. \ref{fig:erd}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ERD.png}
\caption{Schemat ERD klas w bazie danych.}
\label{fig:erd}
\end{figure}

Tabele w bazie danych mają następujące atrybuty:
\begin{itemize}
	\item \mintinline{sql}{access_directory(directory_id (PK, FK), user_id (PK, FK), access_privilege)} 
	\item \mintinline{sql}{access_file(file_id (PK, FK), user_id (PK, FK), access_privilege)} 
	\item \mintinline{sql}{directory(id (PK), name, owner_id (FK), parent_id (FK))} 
	\item \mintinline{sql}{event_date(id (PK), start, end, total_score, event_id (FK))} 
	\item \mintinline[breaklines]{sql}{file(id (PK), file_type, creation_date, name, text_content, start_date, end_date, location, deadline, is_finished, owner_id (FK), parent_id (FK))}
	\item \mintinline[breaklines]{sql}{notification(id (PK), message, send_time_setting, is_sent, is_read, file_id (FK), user_id (FK))}
	\item \mintinline{sql}{refresh_token(id (PK), token, expiry_date, user_id (FK))}
	\item \mintinline{sql}{user(id (PK), username, password, name, email, role)}
	\item \mintinline{sql}{vote(id (PK), score, user_id (FK), event_date_id (FK))}
\end{itemize}

Do zaimplementowania dziedziczenia klas \mintinline{java}{Event}, \mintinline{java}{Note} i \mintinline{java}{Task} po klasie bazowej wybrano strategię \english{Singe Table Inheritance}. W bazie danych wszystkie klasy reprezentowane są przez tę samą tabelę \mintinline{sql}{File}, która zawiera kolumny atrybutów wszystkich dziedziczących klas, a także ukrytą kolumnę \mintinline{sql}{file_type}, pozwalającą frameworkowi na rozróżnienie typów podczas mapowania obiektowo-relacyjnego. Rozwiązanie takie pozwala również na odczytanie jednocześnie wszystkich typów plików, co jest przydatne podczas wyświetlania ich w eksploratorze.

Rozwiązanie \english{MappedSuperclass} zostało odrzucone, ponieważ nie tworzy ono tabeli klasy bazowej, przez co nie może ona być w relacji z żadną inną klasą. Rozwiązania \english{Joined Table} oraz \english{Table Per Class} mogłyby być wykorzystane, jednak są mniej optymalne z perspektywy założonego działania.

\section{Budowa aplikacji}

Na diagramie rys. \ref{fig:package} przedstawiono ogólną budowę wewnętrzną aplikacji. Zarówno back-end jak i front-end zostały podzielone zgodnie z konwencją wykorzystanych w nich frameworków. Framework Spring zakłada podział na klasy typu \mintinline{java}{Model}, \mintinline{java}{DTO}, \mintinline{java}{Repository}, \mintinline{java}{Service} i \mintinline{java}{Controller}, a także, opcjonalnie, \mintinline{java}{Mapper}. Angular wykorzystuje wiele komponentów, z których każdy odpowiada za część wyświetlanego interfejsu. Do komunikacji z back-endem stosuje się serwisy. W języku TypeScript istotne jest typowanie, dla klas zwracanych przez back-end zaimplementowano więc modele po stronie front-endu.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./UML-Package.png}
\caption{Schemat UML pakietów back-endu oraz front-endu.}
\label{fig:package}
\end{figure}

\section{Autentykacja i autoryzacja}

Do implementacji autentykacji i autoryzacji po stronie back-endu wykorzystano rozwiązanie inspirowane przykładem \cite{bib:bkspringauth}. W ciasteczku przechowywany jest JWT \english{Json Web Token} zawierający zakodowaną nazwę użytkownika. Dla każdego zapytania wykonywany jest filtr dekodujący tę nazwę i ustawiający odpowiednie role dla kontekstu. Aby zablokować pewne metody dla użytkowników niezalogowanych, bądź niebędących administratorami, wystarczy wtedy wykorzystać adnotacje odpowiednio \mintinline{java}{@PreAuthorize("isAuthenticated()")} i \mintinline{java}{@PreAuthorize("hasRole('ADMIN')")}. 

Ciasteczko ma ograniczony czas ważności, dlatego, wzorując się na przykładzie \cite{bib:bkspringrefresh}, zaimplementowano funkcjonalność odświeżania. Wykorzystano w tym celu drugie ciasteczko, o dłuższym czasie ważności. Wywołanie metody odświeżającej token przydziela nowe ciasteczka, pod warunkiem, że nie minął jeszcze czas ważności tokenu odświeżającego.

Autentykację i autoryzację po stronie front-endu wzorowano na przykładach \cite{bib:bkangularauth} oraz \cite{bib:bkangularrefresh}. Do zapisania informacji o użytkowniku wykorzystano jednak pamięć lokalną przeglądarki, nie pamięć sesji. Dzięki temu dane użytkownika są dostępne również wtedy, gdy aplikacja otwarta zostanie w nowej karcie. Pamięć sesji została za to użyta do przechowywania danych o ostatnio przeglądanych katalogach w drzewie, co sprawia, że drzewo nie wraca do stanu początkowego z każdym przeładowaniem strony. Ponadto prośba o odświeżenie ciasteczek wysyłana jest tylko wtedy, gdy endpoint ,,Send Notifications'' zwróci kod błędu, jako że jest on wywoływany cyklicznie co kilka sekund i nie może zwrócić błędu, jeżeli ciasteczko zawiera poprawne dane użytkownika.

\section{Lista endpointów}
\label{sec:lista-endpointow}
W tym podrozdziale przedstawiono listę wszystkich endpointów wystawianych przez back-end. Dla każdego opisano URL, ogólną zasadę działania, dane wejściowe oraz możliwe odpowiedzi.

\subsection{Authorization}

\paragraph{Log In}

\mintinline{bash}{POST /api/auth/login}

Logowanie użytkownika.

Wymagane w ciele zapytania: nazwa użytkownika (username), hasło
(password)

\begin{minted}{json}
{
    "username": "newUser",
    "password": "password"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne zalogowanie: obiekt użytkownika z pustym hasłem, kod 200 (OK) 
	\item Niepoprawne hasło/login: ,,Incorrect credentials'', kod 403 (Forbidden) 
	\item Brak hasła/loginu: ,,Empty username or password'', kod 400 (Bad Request) 
\end{itemize}

\paragraph{Log Out} 

\mintinline{bash}{POST /api/auth/logout}



Wylogowanie użytkownika.

Brak wymaganego ciała zapytania.

\begin{minted}{json}
{}
\end{minted}

Odpowiedź: ,,Success'', puste ciasteczka w nagłówku, kod 200 (OK)

\paragraph{Register}

\mintinline{bash}{POST /api/auth/register}

Rejestracja nowego użytkownika i założenie jego katalogu bazowego ,,Base Directory''.

Wymagana nazwa użytkownika i hasło, opcjonalne są adres email oraz imię (name). Pozostałe parametry są ignorowane.

\begin{minted}{json}
{
    "username": "someUser",
    "password": "password",
    "email": "some@email.com",
    "name": "Some User"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne zarejestrowanie: obiekt utworzonego użytkownika z pustym hasłem i rolą \mintinline{java}{ROLE_USER} (jeżeli jest to pierwszy użytkownik w bazie danych, rola to \mintinline{java}{ROLE_ADMIN}), kod 200 (OK) 
	\item Próba zarejestrowania użytkownika o istniejącej już nazwie: kod 403 (Forbidden) 
	\item Brak nazwy użytkownika lub hasła: kod 400 (Bad Request)
\end{itemize}

\paragraph{Change Password}

\mintinline{bash}{PUT /api/auth/password}

Pozwala na zmianę hasła użytkownika.

Wymaga podania starego hasła, służącego do zatwierdzenia zmiany, oraz nowego hasła.

\begin{minted}{json}
{
  "oldPassword": "pwdOld",
  "newPassword": "pwdNew"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawna zmiana hasła: ,,Success'', kod 200 (OK)
	\item Brak podanego starego lub nowego hasła: kod 400 (Bad Request) 
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Stare hasło jest niepoprawne: kod 403 (Forbidden)
\end{itemize}


\paragraph{Grant/Revoke Admin Privilege}

\mintinline{bash}{PUT /api/auth/grant} \mintinline{bash}{PUT /api/auth/revoke}

Nadanie/odebranie roli Administratora użytkownikowi.

Wymagana nazwa użytkownika. Endpoint dostępny jest tylko administratorowi.

\begin{minted}{json}
{
    "username": "newUser"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne nadanie/odebranie roli: obiekt użytkownika, kod 200 (OK) 
	\item Nieistniejąca nazwa użytkownika: kod 404 (Not Found) 
	\item Próba nadania/odebrania sobie roli: kod 400 (Bad Request) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}


\paragraph{Refresh Token}

\mintinline{bash}{POST /api/refreshtoken}

Odświeża JWT odpowiadający za autoryzację użytkownika, jeżeli \mintinline{json}{refreshToken} zapisany w ciasteczkach nie stracił ważności.

Ciało zapytania jest ignorowane.

Odpowiedzi: 
\begin{itemize}
	\item Poprawne odświeżenie JWT: nowe ciasteczko JWT w nagłówku, kod 200 (OK) 
	\item \mintinline{json}{refreshToken} stracił ważność: kod 403 (Forbidden) 
	\item Nie znaleziono \mintinline{json}{refreshToken} w bazie danych: kod 404 (Not Found)
	\item \mintinline{json}{refreshToken} w ciasteczku jest pusty lub \mintinline{json}{null}: kod 400 (Bad Request)
\end{itemize}


\subsection{Users}

\paragraph{Get All Users}

\mintinline{bash}{GET /api/users}

Zwraca wszystkich użytkowników z pustymi hasłami. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik jest administratorem: lista obiektów użytkowników, kod 200 (OK) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get All Users Safe}

\mintinline{bash}{GET /api/users/safe}

Zwraca ID, nazwy użytkownika i nazwy wszystkich użytkowników.

Odpowiedź: lista obiektów użytkowników, kod 200 (OK)

\paragraph{Get User By ID}

\mintinline{bash}{GET /api/users/{id}}

Zwraca użytkownika o podanym ID z pustym hasłem. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik istnieje: obiekt użytkownika, kod 200 (OK)
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get User By ID Safe}

\mintinline{bash}{GET /api/users/safe/{id}}

Zwraca ID, nazwę użytkownika oraz nazwę dla użytkownika o podanym ID z pustym hasłem.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik istnieje: obiekt użytkownika, kod 200 (OK)
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request) 
\end{itemize}

\paragraph{Update User}

\mintinline{bash}{PUT /api/users}

Aktualizuje użytkownika.

Wymagane podanie ID użytkownika w ciele zapytania. Możliwa jest tylko aktualizacja własnego użytkownika.

\begin{minted}{json}
{
    "id": 5,
    "name": "New User 2"
}
\end{minted}

Parametry brane pod uwagę: username, name, email.

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt użytkownika z pustym hasłem, kod 200 (OK) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Próba zmiany nazwy użytkownika na już istniejącą lub pustą/zmiany użytkownika innego niż aktualnie zalogowany: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete User}

\mintinline{bash}{DELETE /api/users/{id}}

Usuwa użytkownika o podanym ID, wraz z jego katalogami, głosami i powiadomieniami. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Próba usunięcia własnego użytkownika/użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete My User}

\mintinline{bash}{DELETE /api/users/delete}

Wylogowuje i usuwa aktualnie zalogowanego użytkownika, wraz z jego katalogami, głosami i powiadomieniami.

Odpowiedzi: 
\begin{itemize}
	\item  Poprawne usunięcie: puste ciasteczka w nagłówku, kod 200 (OK) 
	\item  Nie znaleziono użytkownika: kod 404 (Not Found)
\end{itemize}

\subsection{Directories}

\paragraph{Get My Base Directory}

\mintinline{bash}{GET /api/directories/basedirs}

Zwraca katalog bazowy aktualnie zalogowanego użytkownika.

Odpowiedź: obiekt katalogu bazowego, kod 200 (OK)

\paragraph{Get Directories By Parent ID}

\mintinline{bash}{GET /api/directories/subdirs/{id}}

Zwraca katalogi podrzędne katalogu o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów katalogów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get Directory By ID}

\mintinline{bash}{GET /api/directories/{id}}

Zwraca katalog o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt katalogu, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Check Directory Edit Access}

\mintinline{bash}{GET /api/directories/check/{id}}

Sprawdza, czy aktualnie zalogowany użytkownik posiada prawa do edycji katalogu o danym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: true jeżeli użytkownik może edytować katalog, false jeżeli nie, kod 200 (OK) 
	\item Nie podano ID: kod 400 (Bad Request) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\paragraph{Create Directory}

\mintinline{bash}{POST /api/directories}

Tworzy nowy katalog.

Wymagane ID rodzica, można podać nazwę. W przypadku niepodania nazwy, domyślnie ustawiana jest ona na ,,Unnamed Directory''.

\begin{minted}{json}
{
    "name": "Test Directory",
    "parent": 3
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne utworzenie katalogu: obiekt nowego katalogu, kod 200 (OK) 
	\item Brak ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Directory}

\mintinline{bash}{PUT /api/directories}

Aktualizuje katalog.

Wymagane podanie ID katalogu w ciele zapytania.

\begin{minted}{json}
{
    "id": 2,
    "name": "Some Directory"
}
\end{minted}

Parametr brany pod uwagę: name.

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt katalogu, kod 200 (OK)
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete Directory}

\mintinline{bash}{DELETE /api/directories/{id}}

Usuwa katalog o podanym ID, wraz z jego plikami.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\subsection{Files}

\paragraph{Get Files In Directory}

\mintinline{bash}{GET /api/files/dir/{id}}

Zwraca wszystkie pliki w katalogu o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów katalogów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get File By ID}

\mintinline{bash}{GET /api/files/{id}}

Zwraca katalog o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt katalogu, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request) 
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Check File Edit Access}

\mintinline{bash}{GET /api/files/check/{id}}

Sprawdza, czy aktualnie zalogowany użytkownik posiada prawa do edycji pliku o danym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: true jeżeli użytkownik może edytować plik, false jeżeli nie, kod 200 (OK) 
	\item  Nie podano ID: kod 400 (Bad Request) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\paragraph{Create Event}

\mintinline{bash}{POST /api/files/event}

Tworzy nowe wydarzenie.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Event''.

\begin{minted}{json}
{
    "name": "My First Event",
    "parent": 3,
    "textContent": "Hello World! This is my first event",
    "location": "Katowice"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowego wydarzenia, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Event}

\mintinline{bash}{PUT /api/files/event}

Aktualizuje wydarzenie.

Wymagane podanie ID wydarzenia w ciele zapytania. Jeżeli daty nie zostaną podane, to zmienione zostaną na \mintinline{json}{null}.

\begin{minted}{json}
{
    "id": 2,
    "location": "Gliwice"
}
\end{minted}

Parametry brane pod uwagę: name, textContent, startDate, endDate, location.

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt wydarzenia, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Create Note}

\mintinline{bash}{POST /api/files/note}

Tworzy nową notatkę.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Note''.

\begin{minted}{json}
{
  "name": "My First Note",
  "parent": 3,
  "textContent": "Hello World! This is my first note"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowej notatki, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Note}

\mintinline{bash}{PUT /api/files/note}

Aktualizuje notatkę.

Wymagane podanie ID notatki w ciele zapytania.

\begin{minted}{json}
{
  "id": 1,
  "name": "My Note"
}
\end{minted}

Parametry brane pod uwagę: name, textContent.

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt notatki, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found)
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Create Task}

\mintinline{bash}{POST /api/files/task}

Tworzy nowe zadanie.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Task''.

\begin{minted}{json}
{
  "name": "My First Task",
  "parent": 2,
  "textContent": "Hello World! This is my first task",
  "isFinished": false
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowego zadania, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Task}

\mintinline{bash}{PUT /api/files/task}

Aktualizuje zadanie.

Wymagane podanie ID zadania w ciele zapytania. Jeżeli data wykonania nie zostanie podana, to zmieniona zostanie na \mintinline{json}{null}.

\begin{minted}{json}
{
  "id": 3,
  "isFinished": true
}
\end{minted}

Parametry brane pod uwagę: name, textContent, isFinished, deadline.

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt zadania, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found)
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete File}

\mintinline{bash}{DELETE /api/files/{id}}

Usuwa plik o podanym ID, w przypadku wydarzenia - wraz z jego obiektami EventDate.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\subsection{Access Directory}

\paragraph{Get AccessDirectory By User}

\mintinline{bash}{GET /api/ad/user/{user}}

Zwraca listę obiektów \mintinline{java}{AccessDirectory} dla podanego ID użytkownika.

Lista jest pusta dla nieistniejącego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów \mintinline{java}{AccessDirectory}, kod 200 (OK)
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get AccessDirectory By Directory}

\mintinline{bash}{GET /api/ad/dir/{dir}}

Zwraca listę obiektów \mintinline{java}{AccessDirectory} dla podanego ID katalogu.

Lista jest pusta dla nieistniejącego katalogu.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów \mintinline{java}{AccessDirectory}, kod 200 (OK)
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Modify AccessDirectory}

\mintinline{bash}{POST /api/ad}

Tworzy lub aktualizuje obiekt \mintinline{java}{AccessDirectory} o podanych ID użytkownika i katalogu.

Wymagane podanie obydwu ID w ciele zapytania.

\begin{minted}{json}
{
    "id": {
        "userId": 4,
        "directoryId": 3
    },
    "accessPrivilege": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie/aktualizacja: obiekt \mintinline{java}{AccessDirectory}, kod 200 (OK) 
	\item Nie istnieje któreś z ID: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Delete AccessDirectory}

\mintinline{bash}{DELETE /api/ad/{user}/{dir}}

Usuwa obiekt \mintinline{java}{AccessDirectory} o podanych ID użytkownika i katalogu.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieją: kod 200 (OK) 
	\item ID nie istnieją: kod 404 (Not Found)
\end{itemize}

\subsection{Access File}

\paragraph{Get AccessFile By User}

\mintinline{bash}{GET /api/af/user/{user}}

Zwraca listę obiektów \mintinline{java}{AccessFile} dla podanego ID użytkownika.

Lista jest pusta dla nieistniejącego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów \mintinline{java}{AccessFile}, kod 200 (OK) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get AccessFile By File}

\mintinline{bash}{GET /api/af/file/{file}}

Zwraca listę obiektów \mintinline{java}{AccessFile} dla podanego ID pliku.

Lista jest pusta dla nieistniejącego pliku.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów \mintinline{java}{AccessFile}, kod 200 (OK) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Modify AccessFile}

\mintinline{bash}{POST /api/af}

Tworzy lub aktualizuje obiekt \mintinline{java}{AccessFile} o podanych ID użytkownika i pliku.

Wymagane podanie obydwu ID w ciele zapytania.

\begin{minted}{json}
{
    "id": {
        "userId": 4,
        "fileId": 3
    },
    "accessPrivilege": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie/aktualizacja: obiekt \mintinline{java}{AccessFile}, kod 200 (OK) 
	\item Nie istnieje któreś z ID: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Delete AccessFile}

\mintinline{bash}{DELETE /api/af/{user}/{file}}

Usuwa obiekt \mintinline{java}{AccessFile} o podanych ID użytkownika i pliku.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieją: kod 200 (OK) 
	\item ID nie istnieją: kod 404 (Not Found)
\end{itemize}

\subsection{Event Dates}

\paragraph{Get All EventDates}

\mintinline{bash}{GET /api/ed}

Zwraca wszystkie obiekty \mintinline{java}{EventDate}.

Odpowiedź: lista obiektów \mintinline{java}{EventDate}, kod 200 (OK)

\paragraph{Get EventDates By Event ID}

\mintinline{bash}{GET /api/ed?id={eventId}}

Zwraca obiekty \mintinline{java}{EventDate} dotyczące wydarzenia o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów \mintinline{java}{EventDate}, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get EventDate By ID}

\mintinline{bash}{GET /api/ed/{id}}

Zwraca obiekt \mintinline{java}{EventDate} o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt \mintinline{java}{EventDate}, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Create EventDate}

\mintinline{bash}{POST /api/ed}

Tworzy obiekt \mintinline{java}{EventDate}.

Wymagane jest podanie ID wydarzenia, a także początku i końca terminu. Wynik całkowity ustawiany jest na 0. Wydarzenie musi istnieć i należeć do tworzącego obiekt użytkownika.

\begin{minted}{json}
{
    "event": 2,
    "start" : "2024-10-18T12:00:00",
    "end": "2024-10-18T12:30:00"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: nowy obiekt \mintinline{java}{EventDate}, kod 200 (OK) 
	\item Brak ID/terminu początkowego/końcowego: kod 400 (Bad Request)
	\item Wydarzenie nie istnieje: kod 404 (Not Found) 
	\item Wydarzenie należy do innego użytkownika: kod 403 (Forbidden) 
\end{itemize}

\paragraph{Delete EventDate}

\mintinline{bash}{DELETE /api/ed/{id}}

Usuwa obiekt \mintinline{java}{EventDate} o podanym ID, wraz z jego głosami. Wydarzenie należeć musi do usuwającego obiekt użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
	\item Wydarzenie należy do innego użytkownika: kod 403 (Forbidden) 
\end{itemize}

\subsection{Votes}

\paragraph{Get Votes By EventDate ID}

\mintinline{bash}{GET /api/votes/ed/{id}}

Zwraca głosy na termin EventDate o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów głosów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get Current User's Vote By EventDate ID}

\mintinline{bash}{GET /api/votes/myvote/{id}}

Zwraca listę głosów oddanych przez aktualnie zalogowanego użytkownika na termin \mintinline{java}{EventDate} o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów głosów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Cast Vote}

\mintinline{bash}{POST /api/votes}

Sprawdza, czy zalogowany użytkownik oddał głos na dany termin, jeżeli nie, to tworzy nowy głos, jeżeli tak, to aktualizuje istniejący. Modyfikuje wynik całkowity dla terminu \mintinline{java}{EventDate}. Użytkownik musi posiadać dostęp do wydarzenia, na które głosuje.

Wymagane podanie ID \mintinline{java}{EventDate}.

\begin{minted}{json}
{
    "eventDate": 1,
    "score": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne oddanie/modyfikacja głosu: obiekt głosu, kod 200 (OK) 
	\item Nie podano ID \mintinline{java}{EventDate}: kod 400 (Bad Request) 
	\item Nie istnieje ID \mintinline{java}{EventDate}: kod 404 (Not Found)
	\item Brak dostępu do wydarzenia: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete Vote}

\mintinline{bash}{DELETE /api/vote/{id}}

Usuwa głos o podanym ID. Głos musiał być oddany przez aktualnie zalogowanego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
	\item Głos należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\subsection{Notifications}

\paragraph{Get All My Notifications}

\mintinline{bash}{GET /api/notifs/mynotifs}

Zwraca wszystkie wysłane powiadomienia aktualnie zalogowanego użytkownika.

Odpowiedź: lista obiektów powiadomień, kod 200 (OK)

\paragraph{Get All My Read/Unread Notifications}

\mintinline{bash}{GET /api/notifs/mynotifs?read={read}}

Zwraca wszystkie wysłane odczytane/nieodczytane powiadomienia aktualnie zalogowanego użytkownika, w zależności od parametru \mintinline{json}{read} (\mintinline{json}{true} - odczytane, \mintinline{json}{false} - nieodczytane).

Odpowiedź: lista obiektów powiadomień, kod 200 (OK)

\paragraph{Get Current User's Notification By File ID}

\mintinline{bash}{GET /api/notifs/file/{id}}

Zwraca listę niewysłanych powiadomień aktualnie zalogowanego użytkownika powiązanych z plikiem o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów powiadomień, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Create Notification}

\mintinline{bash}{POST /api/notifs}

Tworzy powiadomienie dla aktualnie zalogowanego użytkownika. Użytkownik musi mieć dostęp do pliku.

Wymagane jest podanie ID pliku. Czas wysłania domyślnie ustawiany jest na czas utworzenia, powiadomienie jest domyślnie nieodczytane. Wysłanie odbywa się na podstawie porównania aktualnego czasu z czasem wysłania.

\begin{minted}{json}
{
  "file": 3,
  "message": "Test notif",
  "sendTimeSetting": "2024-10-28T15:30:00"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: nowy obiekt powiadomienia, kod 200 (OK) 
	\item Brak ID pliku: kod 400 (Bad Request) 
	\item Nie istnieje ID pliku: kod 404 (Not Found)
	\item Brak dostępu do pliku: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Notification}

\mintinline{bash}{PUT /api/notifs}

Akutalizuje powiadomienie o podanym ID. Musi ono należeć do aktualnie zalogowanego użytkownika

Wymagane jest podanie ID powiadomienia. Jedynym branym pod uwagę parametrem jest \mintinline{sql}{read}.
\begin{minted}{json}
{
  "id": 1,
  "read": true
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: nowy obiekt powiadomienia, kod 200 (OK) 
	\item Brak ID powiadomienia: kod 400 (Bad Request) 
	\item Nie istnieje ID powiadomienia: kod 404 (Not Found)
	\item Powiadomienie należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Send Current User's Notifications}

\mintinline{bash}{PUT /api/notifs/send}

Wysyła powiadomienia aktualnie zalogowanego poprzez porównanie ich czasu wysłania z czasem aktualnym.

Odpowiedzi: 
\begin{itemize}
	\item Poprawna aktualizacja powiadomień: kod 200 (OK) 
	\item Nie znaleziono użytkownika: kod 404 (Not Found)
\end{itemize}

\paragraph{Delete Notification}

\mintinline{bash}{DELETE /api/notifs/{id}}

Usuwa powiadomienie o podanym ID. Musi ono należeć do aktualnie zalogowanego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
	\item Powiadomienie należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

%\begin{figure}
%\centering
%\begin{minted}[linenos,frame=lines]{c++}
%class test : public basic
%{
%    public:
%      test (int a);
%      friend std::ostream operator<<(std::ostream & s, 
%                                     const test & t);
%    protected:
%      int _a;  
%      
%};
%\end{minted}
%\caption{Pseudokod w \texttt{minted}.}
%\label{fig:pseudokod:minted}
%\end{figure}




% TODO
\chapter{Weryfikacja i walidacja}
\label{ch:06}
% \begin{itemize}
% \item sposób testowania w ramach pracy (np. odniesienie do modelu V)
% \item organizacja eksperymentów
% \item przypadki testowe zakres testowania (pełny/niepełny)
% \item wykryte i usunięte błędy
% \item opcjonalnie wyniki badań eksperymentalnych
% \end{itemize}

Testowanie aplikacji wymaga sprawdzenia, czy jest ona odporna na nieprawidłowe dane wejściowe oraz czy dla danych poprawnych zachowuje się zgodnie z oczekiwaniami. Przetestować pod tym kątem należy zarówno back-end, jak i front-end.

W przypadku back-endu należy zweryfikować, czy faktyczne odpowiedzi są zgodne z wymienionymi w podrozdziale \nameref{sec:lista-endpointow}. Z kolei front-end powinien już na poziomie interfejsu w jak największym stopniu ograniczyć możliwość wprowadzenia błędnych danych.

\section{Testowanie back-endu}

Testowanie rozpoczęto od sprawdzenia przypadków użycia dla użytkownika niezalogowanego. Większość endpointów wymaga autentykacji, sprawdzono więc, że zwracają one bez niej kod 403 (Forbidden). Przykład takiego zapytania pokazano na rys. \ref{fig:send-notifs-403}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./SendNotifs403.png}
\caption{Zrzut ekranu z programu Postman przedstawiający próbę użycia endpointu, do którego użytkownik nie posiada dostępu.}
\label{fig:send-notifs-403}
\end{figure}

Przy rejestracji, zgodnie z założeniami, otrzymano kod 400 gdy w ciele zapytania brakowało hasła lub nazwy użytkownika, oraz kod 403 gdy wpisano nazwę użytkownika występującą już w bazie danych. Dla poprawnych danych:
\begin{minted}{json}
{
	"username": "test",
	"password": "password",
	"name": "Test User"
}
\end{minted}
Otrzymano odpowiedź:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": null,
	"votes": null,
	"notifications": null
}
\end{minted}
Odpowiedź nie zawiera już hasła -- zostało ono zakodowane i zapisane w bazie.

Rejestrację przeprowadzono również przy pustej bazie danych. Pierwszy utworzony użytkownik otrzymał rolę \mintinline{java}{ROLE_ADMIN}, każdy kolejny -- \mintinline{java}{ROLE_USER}.

Podobnie przetestowano logowanie: dla brakujących danych otrzymano kod 400 i informację ,,Empty username or password'', dla nieistniejącego loginu i nieprawidłowego hasła -- kod 403 i informację ,,Incorrect credentials''. Dla poprawnych danych logowania:
\begin{minted}{json}
{
	"username": "test",
	"password": "password"
}
\end{minted}
Otrzymano odpowiedź:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		26
	],
	"votes": [],
	"notifications": []
}
\end{minted}
Obiekt użytkownika został pobrany z bazy danych. Automatycznie utworzony został katalog bazowy, który jest jedynym katalogiem użytkownika nieposiadającym katalogu nadrzędnego.

Ponadto wygenerowane zostały dwa ciasteczka:
\begin{minted}[breaklines]{bash}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzMzMDc1MTYxLCJleHAiOjE3MzMxNjE1NjF9.UOpUtCw0G1TgcEf9ufIk2T00JqQ8ARo61cZJnYslPdU; Path=/; HttpOnly; Expires=Mon, 02 Dec 2024 17:46:00 GMT;
organizerRefreshJwt=1ee7c994-e296-4a12-a636-8cf39380a1e8; Path=/api/auth/refreshtoken; HttpOnly; Expires=Mon, 02 Dec 2024 23:46:00 GMT;
\end{minted}

Następnie przetestowano przypadki użycia dla użytkownika zwykłego.

Wylogowanie przebiega zawsze pomyślnie, można je powtarzać nawet będąc już wylogowanym bez negatywnych skutków. W wyniku wylogowania obydwa ciasteczka stają się puste.

Przetestowano działanie odświeżania ciasteczka organizerJwt. Przed odświeżeniem ciasteczka miały następujące wartości:
\begin{minted}[breaklines]{bash}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJuZXdVc2VyIiwiaWF0IjoxNzMzMTY2NDA4LCJleHAiOjE3MzMyNTI4MDh9._JyoQNrhYdpdl3EPM8NFg29c0HwLm5nMidQ8Fh4Wsik; Path=/; HttpOnly; Expires=Tue, 03 Dec 2024 19:06:48 GMT;
organizerRefreshJwt=8d9fab79-5a99-4bb0-b56b-ad0626fb2d61; Path=/api/auth/refreshtoken; HttpOnly; Expires=Wed, 04 Dec 2024 01:06:48 GMT;
\end{minted}
Po wykonaniu odświeżenia:
\begin{minted}[breaklines]{bash}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJuZXdVc2VyIiwiaWF0IjoxNzMzMTY2NDg0LCJleHAiOjE3MzMyNTI4ODR9.ekR8DYMFlny3pKLKaunjOtXXTE3qH8dTfEFGYdaSpNs; Path=/; HttpOnly; Expires=Tue, 03 Dec 2024 19:08:04 GMT;
organizerRefreshJwt=8d9fab79-5a99-4bb0-b56b-ad0626fb2d61; Path=/api/auth/refreshtoken; HttpOnly; Expires=Wed, 04 Dec 2024 01:08:04 GMT;
\end{minted}

Próba dostępu do endpointu dostępnego tylko administratorowi, na przykład nadania roli administratora, skutkuje kodem 403 odpowiedzi.

Przetestowano tworzenie nowych elementów. Kody błędów 400, 403 i 404 są zwracane zgodnie z oczekiwaniami. Elementy tworzone są poprawnie, można je tworzyć tylko we własnych katalogach -- w przeciwnym razie zwracany jest kod 403. Kolumna textContent jest typu \mintinline{sql}{TEXT} -- jest to typ danych bazy MySQL o rozmiarze 64KB. Pozostałe kolumny tekstowe posiadają domyślny typ \mintinline{sql}{TINYTEXT}, mogą więc mieć maksymalnie 255 znaków. Próba przypisania większej liczby znaków skutkuje wyjątkiem w bazie danych. Przykład takiej sytuacji pokazano na rys. \ref{fig:change-name-256} oraz \ref{fig:change-name-255} Zabezpieczenie przed nim występuje po stronie front-endu. Back-end nie weryfikuje też, czy termin początkowy wydarzenia jest wcześniejszy od końcowego.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ChangeName256.png}
\caption{Zrzut ekranu z programu Postman przedstawiający nieudaną próbę zmiany nazwy katalogu na tekst o długości 256 znaków.}
\label{fig:change-name-256}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ChangeName255.png}
\caption{Zrzut ekranu z programu Postman przedstawiający udaną próbę zmiany nazwy katalogu na tekst o długości 255 znaków.}
\label{fig:change-name-255}
\end{figure}

Z takim samym wynikiem przeprowadzono testy edycji nazw i zawartości elementów. Notatki, wydarzenia oraz zadania posiadają osobne endpointy do ich edycji. Próba edycji elementu przy użyciu niewłaściwego endpointu, na przykład wydarzenia używając \mintinline{bash}{PUT /api/files/note}, skutkuje kodem 404.

Element można przenieść tylko do istniejącego katalogu, należącego do tego samego użytkownika, przez tego użytkownika. Ignorowane są przypadki, gdy podejmowana jest próba przeniesienia katalogu bazowego, bądź ustawienia katalogu nadrzędnego na ten sam katalog lub katalog podrzędny. Taka sytuacja mogłaby skutkować nieskończoną pętlą podczas sprawdzania dostępu, a także błędem bazy danych przy usuwaniu.
\begin{minted}{json}
{
	"id": 29,
	"parent": 29
}
\end{minted}
Odpowiedź:
\begin{minted}{json}
{
	"id": 29,
	"name": "Child Directory",
	"owner": 22,
	"parent": 26,
	"children": [
		30
	],
	"files": []
}
\end{minted}

Przetestowano odczytywanie elementów, odpowiedzi były zgodne z wymienionymi na liście endpointów.

W katalogu o ID 29 umieszczono katalog podrzędny oraz plik:
\begin{minted}{json}
{
	"id": 29,
	"name": "Child Directory",
	"owner": 22,
	"parent": 26,
	"children": [
		30
	],
	"files": [
		15
	]
}
\end{minted}
Następnie usunięto katalog 29. Próba odczytu katalogu 29, 30 oraz pliku 15 skutkuje błędem 404 -- zawartość katalogu została kaskadowo usunięta.

W przypadku katalogu bazowego, próba usunięcia skutkuje kodem błędu 403.

Sprawdzanie uprawnień do edycji zwraca kod 404 dla nieistniejącego elementu, \mintinline{json}{true} lub \mintinline{json}{false} odpowiednio kiedy użytkownik posiada lub nie posiada uprawnień do edycji elementu.

Przetestowano działanie algorytmu dostępu dla użytkownika o ID 4. Zdefiniowano dla niego dostęp do katalogu 3 z poziomem dostępu 1 (odczyt) oraz do plików 1 i 2 z poziomem dostępu 2 (edycja). Struktura wymienionych plików:
\begin{minted}{bash}
katalog 1
	katalog 2
		katalog 11
			plik 2
	katalog 3
		plik 1
		plik 3
\end{minted}
Próba odczytu plików 1, 2 i 3 oraz katalogu 3 przebiega pomyślnie. Wysłanie zapytania GET dla katalogów 1, 2 i 11 skutkuje kodem 403. Pomyślnie przebiega edycja plików 1 i 2, natomiast dla pliku 3 otrzymywany jest kod 403.

12 grudnia 2024 roku o godzinie 18:10 dla użytkownika 4 dodano powiadomienie do pliku 1. 
\begin{minted}{json}
{
	"id": 6,
	"user": 4,
	"file": 1,
	"message": "Test notif",
	"sendTimeSetting": "2024-12-02T18:15:00",
	"read": false,
	"sent": false
}
\end{minted}
Wysłano od razu zapytanie Send Notifications. Zapytanie Get All Notifications dla użytkownika zwraca pustą listę, a zapytanie Get All Unsent Notifications dla pliku zwraca listę zawierającą to powiadomienie. Po godzinie 18:15 powtórzono wysłanie powiadomień i ponownie wykonano dwa zapytania Get. Tym razem powiadomienie zwrócone zostało przez endpoint \mintinline{bash}{GET /api/notifs/mynotifs} zwróciło listę z powiadomieniem, którego wartość pola \mintinline{sql}{sent} została zmieniona na \mintinline{sql}{true}. Lista niewysłanych powiadomień jest pusta.

Utworzono powiadomienie z wcześniejszym terminem wysłania.
\begin{minted}{json}
{
	"id": 7,
	"user": 4,
	"file": 1,
	"message": "Test notif 2",
	"sendTimeSetting": "2024-12-02T17:15:00",
	"read": false,
	"sent": true
}
\end{minted}
Powiadomienie od początku jest wysłane.

Powiadomienie można dodać tylko do pliku, do którego posiada się dostęp. Zostaje ono przypisane zalogowanemu użytkownikowi.

Powiadomienie zaktualizowano, zmieniając wartość pola \mintinline{sql}{read} na ,,true'' -- jest to jedyne pole, które można zmienić. Usunięto własne powiadomienie, następnie spróbowano zaktualizować i usunąć powiadomienie innego użytkownika -- otrzymano kod 403.

Próba utworzenia obiektu \mintinline{java}{EventDate} dla wydarzenia należącego do innego użytkownika skutkuje kodem 403, dla nieistniejącego wydarzenia -- kodem 404. Podanie ID pliku innego niż wydarzenie również zwraca kod 404. Próba utworzenia wydarzenia z pustym terminem początkowym zwraca kod 400, można jednak nie podać terminu końcowego:
\begin{minted}{json}
{
	"id": 7,
	"event": 16,
	"votes": null,
	"totalScore": 0,
	"start": "2024-11-18T12:00:00",
	"end": null
}
\end{minted}

Oddawanie wielu głosów na ten sam termin \mintinline{java}{EventDate} modyfikuje wartość \mintinline{sql}{score}, nie dodaje kolejnych głosów. Zalogowano się jako inny użytkownik i oddano głos: wartość \mintinline{sql}{totalScore} dla terminu jest każdorazowo przeliczana, jest równa sumie punktów z każdego głosu. Głos można oddać tylko na wydarzenie, do którego posiada się dostęp -- w przeciwnym razie zwracany jest kod 403.

Zwykły użytkownik nie może listować pełnych danych innych użytkowników (kod 403), może jednak skorzystać z bezpiecznego endpointu -- dla wszystkich użytkowników oraz użytkownika o konkretnym ID. Fragment odpowiedzi dla bezpiecznego listowania wszystkich użytkowników:
\begin{minted}{json}
{
	"id": 4,
	"username": "newUser",
	"name": "User",
	"email": "",
	"password": null,
	"role": null,
	"directories": null,
	"votes": null,
	"notifications": null
},
{
	"id": 5,
	"username": "newUser2",
	"name": "New User 2",
	"email": "",
	"password": null,
	"role": null,
	"directories": null,
	"votes": null,
	"notifications": null
},
\end{minted}

Próba edycji danych innego użytkownika niż zalogowany skutkuje kodem błędu 403. Nie można też zmienić nazwy na inną występującą już w bazie. Wyjątkiem jest podanie własnej nazwy użytkownika. Podanie pustego ciągu znaków jako nowa nazwa użytkownika zwraca kod 403. Zmiany hasła i roli są ignorowane. Na puste ciągi znaków można zmieniać pola \mintinline{sql}{name} oraz \mintinline{sql}{email}.

Przetestowano zmianę hasła. Jeżeli nie podane zostanie stare lub nowe hasło otrzymywany jest kod 400. Dla niepoprawnego starego hasła zwracany jest kod 403. Zmieniono hasło w poprawny sposób i spróbowano zalogować się przy pomocy starego i nowego hasła -- operacja przebiegła pomyślnie dla hasła nowego. 

Zwykły użytkownik może usunąć tylko swoje konto. Usunięto użytkownika:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		26
	],
	"votes": [
		13
	],
	"notifications": []
}
\end{minted}
Automatycznie nastąpiło wylogowanie -- endpointy dostępne każdemu zalogowanemu użytkownikowi zwracają kod 403, ciasteczka organizerJwt i organizerRefreshJwt są puste. Zalogowano się na konto innego użytkownika. Próby odczytu katalogu o ID 26 i głosów dla terminów wydarzeń użytkownika zwracają kod 404.

Zalogowano się jako administrator. Możliwe było wylistowanie pełnych danych użytkowników (nie licząc haseł). Fragment odpowiedzi:
\begin{minted}{json}
{
	"id": 4,
	"username": "newUser",
	"name": "User",
	"email": "newuser@email.com",
	"password": "",
	"role": "ROLE_ADMIN",
	"directories": [
		4,
		12,
		13
	],
	"votes": [
		1,
		7,
		9,
		11
	],
	"notifications": [
		6,
		7,
		8
	]
},
{
	"id": 5,
	"username": "newUser2",
	"name": "New User 2",
	"email": "newuser2@email.com",
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		5
	],
	"votes": [],
	"notifications": []
},
\end{minted}

Nadano i odebrano innym użytkownikom rolę administratora. Próba zmiany własnej roli zwróciła kod 400.

Próba usunięcia własnego użytkownika poprzez endpoint administratora zwraca kod 403. Usunięcie innego użytkownika przebiegło pomyślnie.

\section{Testowanie front-endu}

Podczas testowania front-endu, tam, gdzie nie zaznaczono inaczej, korzystano z przeglądarki Mozilla Firefox w wersji 133.0. Wysyłane do back-endu zapytania weryfikowano przy pomocy inspektora przeglądarki.

Po przejściu na adres \mintinline{bash}{http://localhost:4200/} w przeglądarce, pokazana zostaje strona powitalna. Użytkownik jest niezalogowany -- w górnym pasku nawigacyjnym dostępny jest przycisk ,,Log In''. 

Sprawdzono zabezpieczenia przed próbą dostępu do nieudostępnionych użytkownikowi niezalogowanemu zasobów. Przejście na stronę \mintinline{bash}{http://localhost:4200/file/1} przeładowuje stronę, nie zostaje jednak wysłane żadne zapytanie, a widok strony nie zmienia się. Próba wejścia na stronę profilu \mintinline{bash}{http://localhost:4200/profile} skutkuje wyświetleniem komunikatu ,,Please log in to view your profile''. Próba wejścia na dostępną administratorowi stronę \mintinline{bash}{http://localhost:4200/admin/users} pokazuje komunikat ,,This page is accessible for administrators only''. Przejście na niezdefiniowany adres, na przykład \mintinline{bash}{http://localhost:4200/wrong} przekierowuje na prostą stronę ,,Page Not Found'', zawierającą odnośnik do strony głównej. 

Na stronie rejestracji (\mintinline{bash}{http://localhost:4200/auth/register}) sprawdzono, że nie można się zarejestrować bez podania nazwy użytkownika oraz przynajmniej 6-znakowego hasła -- przycisk zatwierdzający jest nieaktywny. Pole adresu e-mail może pozostać puste, jeśli jednak wpisze się do niego treść, to musi ona być poprawnym adresem. Wpisano nazwę użytkownika występującą już w bazie danych: po zatwierdzeniu na dole ekranu pojawiło się powiadomienie ,,This username is already taken''. Wpisano unikalną nazwę użytkownika, po zatwierdzeniu na dole ekranu pojawiło się powiadomienie ,,You have successfully registered!'', wyświetlił się również link do strony logowania.

Na stronie logowania (\mintinline{bash}{http://localhost:4200/auth/login}) również nie można się zalogować bez podania nazwy użytkownika i hasła. Podanie nieprawidłowej kombinacji nazwy i hasła, w tym niewystępującej w bazie danych nazwy użytkownika, skutkuje pojawieniem się powiadomienia ,,Incorrect username or password''. Po wpisaniu poprawnych danych użytkownik zostaje zalogowany i przekierowany na stronę główną, która zawiera przeglądarkę plików. Dla nowo zarejestrowanego użytkownika na liście plików znajduje się jeden katalog -- ,,Base Directory'' -- utworzony automatycznie podczas rejestracji.

Aby zweryfikować automatyczne odświeżanie ciasteczek, tymczasowo zmieniono ich czas ważności w back-endzie na 1 minutę dla \mintinline{json}{organizerJwt} i 3 minuty dla \mintinline{json}{organizerRefreshJwt}. W inspektorze przeglądarki sprawdzono, że co jedną minutę cyklicznie wywoływane zapytanie wysyłające powiadomienia zwraca kod 403 i wysyłana jest prośba o odświeżenie ciasteczka. Następnie zamknięto kartę aplikacji i ponownie otwarto ją po ponad 3 minutach. Użytkownik został automatycznie wylogowany.

Utworzono dwa nowe katalogi oraz notatkę, wydarzenie i zadanie. Formularz nie pozwala na wpisanie nazwy elementu lub lokalizacji dłuższej niż 50 znaków, ani zawartości pliku dłuższej niż 65000 znaków, nie pozwala też zapisać elementu z pustą nazwą -- przycisk do zapisu jest nieaktywny. Sprawdzono, że poprawnie zapisuje się notatka z 65000-znakową treścią. Nie można zapisać wydarzenia, którego termin początkowy jest późniejszy od końcowego. Jeżeli w polu daty wpisze się niepełną datę (na przykład bez minut), lub będzie ona nieprawidłowa (na przykład 30.02.2024) pojawi się informacja, że data ta nie zostanie zapisana w bazie danych. Próba podania daty spoza przedziału 1970-01-01 00:00:01 UTC do 2038-01-19 03:14:07 UTC skutkuje informacją, że data nie mieści się w tym przedziale. Przycisk ,,Discard changes'' przywraca stan formularza do stanu ostatniego zapisu.

Struktura utworzonych w tym kroku plików:
\begin{minted}{bash}
Base Directory
	Child Directory
		Grandchild Directory
			New Event
			New Task
		New Note
\end{minted}

W panelu udostępniania elementów wybrano z listy użytkowników \mintinline{bash}{newUser} i udzielono mu dostępu do edycji katalogu ,,Child Directory'' oraz dostępu do przeglądania pliku ,,New Task''. Zalogowano się jako \mintinline{bash}{newUser}. Zweryfikowano, że użytkownik ten może edytować pliki ,,New Note'' oraz ,,New Event'', a tylko przeglądać ,,New Task''.

Następnie, jako właściciel, usunięto udzielenie dostępu do przeglądania pliku ,,New Task''. Ponownie zalogowano się jako \mintinline{bash}{newUser} -- tym razem może on edytować ten plik. Zmodyfikowano dostęp do katalogu ,,Child Directory'' na dostęp do przeglądania. Zgodnie z założeniami, użytkownik newUser może tylko przeglądać wszystkie pliki w tym katalogu.

Panel udostępniania pobiera listę użytkowników z bazy danych, nie jest możliwe wybranie nieistniejącego użytkownika. 

Pliki i katalogi nieudostępnione użytkownikowi nie pojawiają się w drzewie plików. Jeżeli użytkownik spróbuje dostać się do elementu wpisując jego identyfikator w adresie URL, w przeglądarce nie pojawi się żaden element, a na dole ekranu pokazuje się powiadomienie ,,You don't have access to view this file'' (lub ,,[\ldots] folder'', w przypadku próby dostępu do katalogu). Jeżeli w analogiczny sposób użytkownik spróbuje dostać się do nieistniejącego elementu, powiadomienie będzie miało treść ,,This file could not be found'' (lub ,,This folder [\ldots]).

Przycisk służący do przenoszenia elementu do innego katalogu jest ukryty dla katalogu bazowego. Przetestowano przenoszenie plików -- na liście katalogów do wyboru są jedynie katalogi należące do użytkownika. W przypadku katalogu ,,Child Directory'' niemożliwe jest umieszczenie go wewnątrz katalogu ,,Grandchild Directory'' -- przejście wgłąb przenoszonego katalogu jest nieaktywne, jak pokazano na rys. \ref{fig:move-dir-inactive}.

\begin{figure}
\centering
\includegraphics{./MoveDirInactive.png}
\caption{Zrzut ekranu z panelu przenoszenia katalogu ,,Child Directory''. Opcja przeniesienia katalogu do środka niego samego jest zablokowana.}
\label{fig:move-dir-inactive}
\end{figure}

Usunięto pojedynczy plik, a następnie katalog zawierający plik. W obydwu przypadkach operacja przebiegła pomyślnie.

W panelu powiadomień opcja dodania czasu wysłania powiadomienia zależnego od terminu wydarzenia lub zadania pojawia się tylko, jeśli termin ten został zdefiniowany. W każdym przypadku dostępna jest opcja zdefiniowania bezwzględnego czasu wysłania. 

Dodano powiadomienie, którego czas wysłania powinien być o 5 minut wcześniejszy, od terminu początkowego wydarzenia (w tym przypadku -- godzina 18:55). Pojawiło się ono na liście nadchodzących powiadomień z czasem wysłania przeliczonym na bezwzględny -- 18:50. O godzinie 18:50 przy nazwie użytkownika w pasku nawigacji pojawiła się cyfra ,,1'' informująca o nowym nieodczytanym powiadomieniu. Powtórzono operację z takimi samymi ustawieniami. Liczba przy nazwie użytkownika natychmiast się zwiększyła, natomiast powiadomienie nie pojawiło się na liście powiadomień nadchodzących -- nowo utworzone powiadomienie od razu jest wysłane. 

Przetestowano również wysyłanie powiadomienia dla bezwzględnie określonego czasu. Sprawdzono zarówno dodawanie własnej wiadomości do powiadomienia, jak i pozostawienie treści domyślnej.

Na stronie profilu użytkownika wyświetlają się wszystkie wysłane powiadomienia. Oznaczyć je można jako odczytane i nieodczytane -- sprawdzono, że odpowiednio zmieniana jest liczba przy nazwie użytkownika. Przetestowano również filtrowanie powiadomień według tego parametru.

Do pliku dodano powiadomienie, a następnie usunięto plik. Powiadomienie zostało kaskadowo usunięte.

W panelu głosowania na termin wydarzenia dodano kilka propozycji -- formularz tworzenia obiektu \mintinline{Java}|EventDate| jest widoczny tylko dla właściciela. Pole daty początkowej jest wymagane, obiekt nie zostanie też dodany, jeżeli data końcowa jest wcześniejsza od początkowej. Na propozycje zagłosowano, zmieniano wartości głosów, usuwano głosy: wynik całkowity zmienia się z każdą modyfikacją. Wydarzenie udostępniono dwóm innym użytkownikom -- jednemu do edycji, drugiemu do wyświetlania. Obydwaj użytkownicy mogli zagłosować i dodać powiadomienia.

Jako właściciel wydarzenia usunięto jedną z propozycji, a inną zatwierdzono -- termin wydarzenia odpowiednio się zmienił.

Modyfikacja danych użytkownika w profilu ma podobne działanie i wymagania, co podczas rejestracji. Aby zmienić hasło, należy podać aktualne oraz nowe hasło. Jeżeli podane hasło jest nieprawidłowe, wyświetla się odpowiednie powiadomienie, pola formularza zawierają też weryfikację długości hasła. Po zmianie hasła wylogowano się i zweryfikowano, że zalogować można się tylko nowo ustalonym hasłem.

Przetestowano usuwanie konta użytkownika przez niego samego -- operacja przebiegła pomyślnie.

Zalogowano się jako użytkownik posiadający prawa administratorskie. Na pasku nawigacyjnym wyświetlił się dodatkowy przycisk ,,Admin Panel''. W panelu administratora sprawdzono działanie filtrowania, sortowania oraz stronicowania tabeli użytkowników. Kliknięcie na własnego użytkownika wyświetla jego dane. Kliknięcie na dowolnego innego użytkownika pokazuje ponadto przycisk nadawania lub odbierania praw administratora, w zależności od aktualnej roli danego użytkownika, oraz przycisk pozwalający na usunięcie użytkownika. Przetestowano operację zmiany uprawnień, każdorazowo logując się jako zmodyfikowany użytkownik i weryfikując, że stał się lub przestał być administratorem. Następnie usunięto jednego z użytkowników i sprawdzono, że został on usunięty z bazy danych.

Aplikację uruchomiono również w przeglądarkach Microsoft Edge wersji w 131.0 oraz Google Chrome w wersji 131.0. Sprawdzono działanie operacji takich jak logowanie i rejestracja, dodawanie i udostępnianie plików, dodawanie powiadomień, głosowanie na terminy. Nie zauważono różnic w działaniu aplikacji.

\section{Wykryte i usunięte błędy}

Autentykacja: podczas logowania generowane są dwa ciasteczka: \mintinline{bash}{organizerJwt} oraz \mintinline{bash}{organizerRefreshJwt}. Drugie z ciasteczek służy do odświeżania pierwszego, powinno więc mieć dłuższy czas ważności. Przez przypadek do obydwu ciasteczek przypisywano tę samą wartość \mintinline{java}{maxAge}.

Tworzenie katalogu bazowego przy rejestracji: podczas tworzenia katalogu sprawdzane jest, czy jego katalog nadrzędny istnieje. Nie uwzględniono sytuacji wyjątkowej, w której tworzony jest katalog bazowy nieposiadający katalogu nadrzędnego.

Odświeżanie ciasteczek: odświeżane było jedynie ciasteczko \mintinline{bash}{organizerJwt} zamiast obydwu. 

Tworzenie elementu: dodano obsługę sytuacji, gdzie katalog nadrzędny o podanym ID nie istnieje lub należy do innego użytkownika.

Pola w tabeli typu \mintinline{sql}{TIMESTAMP}: typ danych \mintinline{sql}{TIMESTAMP} w MySQL obsługuje jedynie przedział 1970-01-01 00:00:01 UTC do 2038-01-19 03:14:07 UTC. Należało dodać zabezpieczenia, przed podaniem daty spoza tego przedziału.

Usuwanie elementu: element powinien móc usunąć jedynie jego właściciel. Przypadkowo zrealizowano sytuację odwrotną: wszyscy użytkownicy niebędący właścicielem mogli usuwać elementy.

Panel dostępu do elementów: obiekty \mintinline{java}{AccessFile} lub \mintinline{java}{AccessDirectory} oraz obiekty \mintinline{java}{User} były przechowywane w osobnych tablicach. Obiekty użytkowników były w innej kolejności w tablicy, niż obiekty dostępów -- błędnie założono, że dodawanie użytkowników iterując po obiektach dostępów spowoduje, że kolejność zostanie zachowana. W wyniku tego błędu, zmiany w przydzielonych dostępach następowały nie dla tych użytkowników, których nazwy były wyświetlone w liście w interfejsie graficznym panelu. Błąd naprawiono przechowując pary obiektów we wspólnej tablicy.

% \begin{table}
% \centering
% \caption{Nagłówek tabeli jest nad tabelą.}
% \label{id:tab:wyniki}
% \begin{tabular}{rrrrrrrr}
% \toprule
% 	         &                                     \multicolumn{7}{c}{metoda}                                      \\
% 	         \cmidrule{2-8}
% 	         &         &         &        \multicolumn{3}{c}{alg. 3}        & \multicolumn{2}{c}{alg. 4, $\gamma = 2$} \\
% 	         \cmidrule(r){4-6}\cmidrule(r){7-8}
% 	$\zeta$ &     alg. 1 &   alg. 2 & $\alpha= 1.5$ & $\alpha= 2$ & $\alpha= 3$ &   $\beta = 0.1$  &   $\beta = -0.1$ \\
% \midrule
% 	       0 &  8.3250 & 1.45305 &       7.5791 &    14.8517 &    20.0028 & 1.16396 &                       1.1365 \\
% 	       5 &  0.6111 & 2.27126 &       6.9952 &    13.8560 &    18.6064 & 1.18659 &                       1.1630 \\
% 	      10 & 11.6126 & 2.69218 &       6.2520 &    12.5202 &    16.8278 & 1.23180 &                       1.2045 \\
% 	      15 &  0.5665 & 2.95046 &       5.7753 &    11.4588 &    15.4837 & 1.25131 &                       1.2614 \\
% 	      20 & 15.8728 & 3.07225 &       5.3071 &    10.3935 &    13.8738 & 1.25307 &                       1.2217 \\
% 	      25 &  0.9791 & 3.19034 &       5.4575 &     9.9533 &    13.0721 & 1.27104 &                       1.2640 \\
% 	      30 &  2.0228 & 3.27474 &       5.7461 &     9.7164 &    12.2637 & 1.33404 &                       1.3209 \\
% 	      35 & 13.4210 & 3.36086 &       6.6735 &    10.0442 &    12.0270 & 1.35385 &                       1.3059 \\
% 	      40 & 13.2226 & 3.36420 &       7.7248 &    10.4495 &    12.0379 & 1.34919 &                       1.2768 \\
% 	      45 & 12.8445 & 3.47436 &       8.5539 &    10.8552 &    12.2773 & 1.42303 &                       1.4362 \\
% 	      50 & 12.9245 & 3.58228 &       9.2702 &    11.2183 &    12.3990 & 1.40922 &                       1.3724 \\
% \bottomrule
% \end{tabular}
% \end{table}  



% TODO
\chapter{Podsumowanie i wnioski}
% \begin{itemize}
% \item uzyskane wyniki w świetle postawionych celów i zdefiniowanych wyżej wymagań
% \item kierunki ewentualnych danych prac (rozbudowa funkcjonalna …)
% \item problemy napotkane w trakcie pracy
% \end{itemize}

\section{Podsumowanie wykonanej aplikacji}

W ramach projektu powstała aplikacja webowa wykorzystująca bazę danych, która pomaga użytkownikom w planowaniu zadań i wydarzeń. W tym celu wykorzystano technologie MySQL, Spring i Angular do stworzenia odpowiednio bazy danych, back-endu i front-endu. Aplikacja pozwala na tworzenie i udostępnianie notatek, wydarzeń i zadań, dodawanie do nich powiadomień, grupowanie ich w katalogach. Wyróżnia się funkcjonalnością głosowania na terminy wydarzeń. Jej interfejs nastawiony jest na zrozumiałość i łatwość użycia, a hasła użytkowników przechowywane są w bezpieczny sposób. 

Na początku zaprojektowano relacyjną bazę danych. Niektóre tabele odpowiadają występującym w temacie pojęciom -- użytkownik, plik, katalog. Inne, takie jak tabele przypisujące dostępy do elementów użytkownikom, bądź tabela zawierająca dane niezbędne do odświeżenia ciasteczek, są niezbędne do prawidłowego działania aplikacji, lecz niewidoczne dla jej użytkownika.

Implementację back-endu aplikacji utrzymano w konwencji frameworku Spring. Korzystając z mapowania obiektowo-relacyjnego tabele bazy danych zostały odwzorowane jako klasy języka Java. Dla każdej z nich zaimplementowano również klasy \mintinline{java}{Repository}, \mintinline{java}{Service} oraz \mintinline{java}{Controller}, a dla większości także klasy \mintinline{java}{DTO} oraz \mintinline{java}{Mapper}. Utworzono również klasy kluczy złożonych, konieczne do implementacji klas w relacji $N:M$, oraz pomocnicze klasy wyjątków, zwiększające czytelność kodu odpowiedzialnego za sprawdzanie dostępu do plików i katalogów.

Do implementacji dziedziczenia klas \mintinline{java}{Event}, \mintinline{java}{Note} oraz \mintinline{java}{Task} po klasie \mintinline{java}{File} w bazie danych wykorzystano metodę \english{Single Table Inheritance}, przez co w bazie odpowiada im wszystkim jedna tabela. Dzięki zastosowaniu dziedziczenia, operacje odczytu oraz usunięcia wierszy wystarczyło zaimplementować raz, dla klasy bazowej. Operacje tworzenia oraz aktualizacji wierszy musiały jednak być napisane osobno dla każdej klasy.

Konieczne było również zaimplemenowanie autentykacji i autoryzacji użytkowników. Wykorzystano do tego framework Spring Security, który pozwolił na logowanie i wylogowywanie, oraz autoryzację ról użytkowników na poziomie poszczególnych metod.

We front-endzie odwzorowano klasy back-endu jako interfejsy języka TypeScript. Serwisy frameworku Angular zostały wykorzystane do komunikacji z back-endem. Konieczne było zadbanie, aby wraz z każdym zapytaniem przekazywały one ciasteczka autentykacyjne.

Zgodnie z konwencją frameworku, funkcjonalności aplikacji rozdzielono pomiędzy komponenty. Angular pozwala na tworzenie aplikacji typu Single-Page, wykorzystano jednak różne adresy, aby pozwolić użytkownikowi na zapisywanie poszczególnych adresów w zakładkach przeglądarki. Wiązało się to z dodatkowym problemem zapewnienia ciągłości stanu aplikacji, który rozwiązano używając pamięci sesji oraz pamięci lokalnej przeglądarki.

Większość komponentów w trakcie inicjalizacji pobiera dane z back-endu i pozwala użytkownikowi na edytowanie ich. Back-end wysyła zaktualizowane obiekty w odpowiedzi na zapytania, jednak konieczna była równoległa edycja danych już pobranych we front-endzie, aby zapewnić płynne działanie. Weryfikacja poprawności danych musiała więc zajść w obydwu częściach aplikacji.

Zapewniono bezpieczeństwo danych użytkownika: hasło przesyłane jest w zapytaniu z front-endu tylko podczas rejestracji i logowania, nigdy nie jest przesyłane w odpowiedzi. W bazie danych jest przechowywane w postaci zakodowanej, wykorzystując enkoder BCrypt.

W zapewnieniu intuicyjności aplikacji pomogło skorzystanie z biblioteki komponentów Angular Material. Dzięki temu wygląd interfejsu i poszczególnych kontrolek jest podobny do innych, znanych aplikacji. Oprócz tekstu wykorzystano wiele ikon, dodatkowo wskazujących na działanie każdego przycisku. Na przyciski, które, ze względów estetycznych, mają postać ikony bez tekstu, można najechać myszą, aby wyświetlić wskazówkę dotyczącą ich działania.

Przetestowano endpointy back-endu przy pomocy programu Postman. Sprawdzono zarówno przypadki poprawnych danych wejściowych, jak i dane, dla których zwracany jest kod błędu. Podczas testowania front-endu sprawdzono, czy dane są poprawnie przekazywane między front-endem a back-endem i poprawnie reprezentowane w interfejsie. Przetestowano sposoby reakcji interfejsu na błędy i niedozwolone operacje. 

Projekt jest gotowy na dalsze rozszerzanie -- do bazy danych można dodać tabele bez znacznego wpływu na napisany już kod back-endu, front-end podzielony jest na komponenty o dużym stopniu niezależności. Potencjalnym kierunkiem rozwoju może być dodanie funkcjonalności związanych z e-mailem. W obecnej aplikacji jest to opcjonalne pole, które nie jest wykorzystywane. Na adres e-mail mogłyby być wysyłane powiadomienia, przypominające użytkownikowi o ważnych terminach nawet wtedy, gdy sama aplikacja jest zamknięta. Można by było również dodać opcję odzyskiwania zapomnianego hasła poprzez wysłanie e-maila z jednorazowym kodem weryfikacyjnym.


\backmatter

%\bibliographystyle{plplain}  % bibtex
%\bibliography{biblio} % bibtex
\printbibliography           % biblatex
\addcontentsline{toc}{chapter}{Bibliografia}

\begin{appendices}

% TODO
% \chapter{Spis skrótów i symboli}

% \begin{itemize}
% \item[DNA] kwas deoksyrybonukleinowy (ang. \english{deoxyribonucleic acid})
% \item[MVC] model -- widok -- kontroler (ang. \english{model--view--controller}) 
% \item[$N$] liczebność zbioru danych
% \item[$\mu$] stopnień przyleżności do zbioru
% \item[$\mathbb{E}$] zbiór krawędzi grafu
% \item[$\mathcal{L}$] transformata Laplace'a 
% \end{itemize}


% TODO
% \chapter{Źródła}

% Jeżeli w pracy konieczne jest umieszczenie długich fragmentów kodu źródłowego, należy je przenieść w to miejsce.

% \begin{lstlisting}
% if (_nClusters < 1)
% 	throw std::string ("unknown number of clusters");
% if (_nIterations < 1 and _epsilon < 0)
% 	throw std::string ("You should set a maximal number of iteration or minimal difference -- epsilon.");
% if (_nIterations > 0 and _epsilon > 0)
% 	throw std::string ("Both number of iterations and minimal epsilon set -- you should set either number of iterations or minimal epsilon.");
% \end{lstlisting}


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% Pakiet minted wymaga odkomentowania w pliku config/settings.tex   %
% importu pakietu minted: \usepackage{minted}                       %
% i specjalnego kompilowania:                                       %
% pdflatex -shell-escape praca                                      %
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

%\begin{minted}[linenos,breaklines,frame=lines]{c++}
%if (_nClusters < 1)
%   throw std::string ("unknown number of clusters");
%if (_nIterations < 1 and _epsilon < 0)
%   throw std::string ("You should set a maximal number of iteration or minimal difference -- epsilon.");
%if (_nIterations > 0 and _epsilon > 0)
%   throw std::string ("Both number of iterations and minimal epsilon set -- you should set either number of iterations or minimal epsilon.");
%\end{minted}


% TODO
% \chapter{Lista dodatkowych plików, uzupełniających tekst pracy} 


% W systemie do pracy dołączono dodatkowe pliki zawierające:
% \begin{itemize}
% \item źródła programu,
% \item dane testowe,
% \item film pokazujący działanie opracowanego oprogramowania lub zaprojektowanego i~wykonanego urządzenia,
% \item itp.
% \end{itemize}


\listoffigures
\addcontentsline{toc}{chapter}{Spis rysunków}
% \listoftables
% \addcontentsline{toc}{chapter}{Spis tabel}

\end{appendices}

\end{document}


%% Finis coronat opus.

