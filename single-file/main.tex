% !TeX spellcheck = pl_PL
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
% Szablon pracy dyplomowej inzynierskiej %
% zgodny  z aktualnymi  przepisami  SZJK %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
%  (c) Krzysztof Simiński, 2018-2023     %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                        %
% Najnowsza wersja szablonów jest        %
% podstępna pod adresem                  %
% github.com/ksiminski/polsl-aei-theses  %
%                                        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% Projekt LaTeXowy zapewnia odpowiednie formatowanie pracy,
% zgodnie z wymaganiami Systemu zapewniania jakości kształcenia.
% Proszę nie zmieniać ustawień formatowania (np. fontu,
% marginesów, wytłuszczeń, kursywy itd. ).
%
% Projekt można kompilować na kilka sposobów.
%
% 1. kompilacja pdfLaTeX
%
% pdflatex main
% bibtex   main
% pdflatex main
% pdflatex main
%
%
% 2. kompilacja XeLaTeX
%
% Kompilatacja przy użyciu XeLaTeXa różni się tym, że na stronie
% tytułowej używany jest font Calibri. Wymaga to jego uprzedniego
% zainstalowania.
%
% xelatex main
% bibtex  main
% xelatex main
% xelatex main
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% W przypadku pytań, uwag, proszę pisać na adres:   %
%      krzysztof.siminski(małpa)polsl.pl            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Chcemy ulepszać szablony LaTeXowe prac dyplomowych.
% Wypełniając ankietę spod poniższego adresu pomogą
% Państwo nam to zrobić. Ankieta jest całkowicie
% anonimowa. Dziękujemy!


% https://docs.google.com/forms/d/e/1FAIpQLScyllVxNKzKFHfILDfdbwC-jvT8YL0RSTFs-s27UGw9CKn-fQ/viewform?usp=sf_link
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PERSONALIZACJA PRACY – DANE PRACY           %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Proszę wpisać swoje dane w poniższych definicjach.

% TODO
% dane autora
\newcommand{\FirstNameAuthor}{Zofia}
\newcommand{\SurnameAuthor}{Lorenc}
\newcommand{\IdAuthor}{300306}   % numer albumu  (bez $\langle$ i $\rangle$)

% drugi autor:
%\newcommand{\FirstNameCoauthor}{Imię}   % Jeżeli jest drugi autor, to tutaj należy podać imię.
%\newcommand{\SurnameCoauthor}{Nazwisko} % Jeżeli jest drugi autor, to tutaj należy podać nazwisko.
%\newcommand{\IdCoauthor}{$\langle$wpisać właściwy$\rangle$}  % numer albumu drugiego autora (bez $\langle$ i $\rangle$)
% Gdy nie ma drugiego autora, należy zostawić poniższe definicje puste, jak poniżej. Gdy jest drugi autor, należy zakomentować te linie.
\newcommand{\FirstNameCoauthor}{} % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
\newcommand{\SurnameCoauthor}{}   % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
\newcommand{\IdCoauthor}{}  % Jeżeli praca ma tylko jednego autora, to dane drugiego autora zostają puste.
%%%%%%%%%%

\newcommand{\Supervisor}{dr hab. inż. Krzysztof Simiński}     % dane promotora (bez $\langle$ i $\rangle$)
\newcommand{\Title}{Webowy organizer notatek, wydarzeń i zadań}           % tytuł pracy po polsku
\newcommand{\TitleAlt}{Web organizer of notes, events, and tasks}                     % thesis title in English
\newcommand{\Program}{Informatyka}            % kierunek studiów  (bez $\langle$ i $\rangle$)
\newcommand{\Specialisation}{Bazy Danych i Inżynieria Systemów}     % specjalność  (bez $\langle$ i $\rangle$)
\newcommand{\Departament}{ALGORYTMIKI I OPROGRAMOWANIA}        % katedra promotora  (bez $\langle$ i $\rangle$)

% Jeżeli został wyznaczony promotor pomocniczy lub opiekun, proszę go/ją wpisać ...
\newcommand{\Consultant}{} % dane promotora pomocniczego, opiekuna (bez $\langle$ i $\rangle$)
% ... w przeciwnym razie proszę zostawić puste miejsce jak poniżej:
%\newcommand{\Consultant}{} % brak promotowa pomocniczego / opiekuna

% koniec fragmentu do modyfikacji
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC PERSONALIZACJI PRACY                 %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PROSZĘ NIE MODYFIKOWAĆ PONIŻSZYCH USTAWIEŃ! %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\documentclass[a4paper,twoside,12pt]{book}
\usepackage[utf8]{inputenc}                                      
\usepackage[T1]{fontenc}  
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage[british,polish]{babel} 
\usepackage{indentfirst}
\usepackage{xurl}
\usepackage{xstring}
\usepackage{ifthen}



\usepackage{ifxetex}

\ifxetex
	\usepackage{fontspec}
	\defaultfontfeatures{Mapping=tex—text} % to support TeX conventions like ``——-''
	\usepackage{xunicode} % Unicode support for LaTeX character names (accents, European chars, etc)
	\usepackage{xltxtra} % Extra customizations for XeLaTeX
\else
	\usepackage{lmodern}
\fi



\usepackage[margin=2.5cm]{geometry}
\usepackage{graphicx} 
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{mathtools}
\usepackage{geometry}
\usepackage{subcaption}   % subfigures
\usepackage[page]{appendix} % toc,
\renewcommand{\appendixtocname}{Dodatki}
\renewcommand{\appendixpagename}{Dodatki}
\renewcommand{\appendixname}{Dodatek}

\usepackage{csquotes}
\usepackage[natbib=true,backend=bibtex,maxbibnames=99]{biblatex}  % kompilacja bibliografii BibTeXem
%\usepackage[natbib=true,backend=biber,maxbibnames=99]{biblatex}  % kompilacja bibliografii Biberem
\bibliography{biblio}

\usepackage{ifmtarg}   % empty commands  

\usepackage{setspace}
\onehalfspacing


\frenchspacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% środowiska dla definicji, twierdzenia, przykładu
\usepackage{amsthm}

\newtheorem{Definition}{Definicja}
\newtheorem{Example}{Przykład}
\newtheorem{Theorem}{Twierdzenie}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% TODO LIST GENERATOR %%%%%%%%%

\usepackage{color}
\definecolor{brickred}      {cmyk}{0   , 0.89, 0.94, 0.28}

\makeatletter \newcommand \kslistofremarks{\section*{Uwagi} \@starttoc{rks}}
  \newcommand\l@uwagas[2]
    {\par\noindent \textbf{#2:} %\parbox{10cm}
{#1}\par} \makeatother


\newcommand{\ksremark}[1]{%
{%\marginpar{\textdbend}
{\color{brickred}{[#1]}}}%
\addcontentsline{rks}{uwagas}{\protect{#1}}%
}

\newcommand{\comma}{\ksremark{przecinek}}
\newcommand{\nocomma}{\ksremark{bez przecinka}}
\newcommand{\styl}{\ksremark{styl}}
\newcommand{\ortografia}{\ksremark{ortografia}}
\newcommand{\fleksja}{\ksremark{fleksja}}
\newcommand{\pauza}{\ksremark{pauza `--', nie dywiz `-'}}
\newcommand{\kolokwializm}{\ksremark{kolokwializm}}
\newcommand{\cudzyslowy}{\ksremark{,,polskie cudzysłowy''}}

%%%%%%%%%%%%%% END OF TODO LIST GENERATOR %%%%%%%%%%%

\newcommand{\printCoauthor}{%		
    \StrLen{\FirstNameCoauthor}[\FNCoALen]
    \ifthenelse{\FNCoALen > 0}%
    {%
		{\large\bfseries\Coauthor\par}
	
		{\normalsize\bfseries \LeftId: \IdCoauthor\par}
    }%
    {}
} 

%%%%%%%%%%%%%%%%%%%%%
\newcommand{\autor}{%		
    \StrLen{\FirstNameCoauthor}[\FNCoALenXX]
    \ifthenelse{\FNCoALenXX > 0}%
    {\FirstNameAuthor\ \SurnameAuthor, \FirstNameCoauthor\ \SurnameCoauthor}%
	{\FirstNameAuthor\ \SurnameAuthor}%
}
%%%%%%%%%%%%%%%%%%%%%

\StrLen{\FirstNameCoauthor}[\FNCoALen]
\ifthenelse{\FNCoALen > 0}%
{%
\author{\FirstNameAuthor\ \SurnameAuthor, \FirstNameCoauthor\ \SurnameCoauthor}
}%
{%
\author{\FirstNameAuthor\ \SurnameAuthor}
}%

%%%%%%%%%%%% ZYWA PAGINA %%%%%%%%%%%%%%%
% brak kapitalizacji zywej paginy
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO]{\nouppercase{\it\rightmark}}
\fancyhead[RE]{\nouppercase{\it\leftmark}}
\fancyhead[LE,RO]{\it\thepage}


\fancypagestyle{tylkoNumeryStron}{%
   \fancyhf{} 
   \fancyhead[LE,RO]{\it\thepage}
}

\fancypagestyle{bezNumeracji}{%
   \fancyhf{} 
   \fancyhead[LE,RO]{}
}


\fancypagestyle{NumeryStronNazwyRozdzialow}{%
   \fancyhf{} 
   \fancyhead[LE]{\nouppercase{\autor}}
   \fancyhead[RO]{\nouppercase{\leftmark}} 
   \fancyfoot[CE, CO]{\thepage}
}


%%%%%%%%%%%%% OBCE WTRETY  
\newcommand{\obcy}[1]{\emph{#1}}
\newcommand{\english}[1]{{\selectlanguage{british}\obcy{#1}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% polskie oznaczenia funkcji matematycznych
\renewcommand{\tan}{\operatorname {tg}}
\renewcommand{\log}{\operatorname {lg}}

% jeszcze jakies drobiazgi

\newcounter{stronyPozaNumeracja}

%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\printOpiekun}[1]{%		

    \StrLen{\Consultant}[\mystringlen]
    \ifthenelse{\mystringlen > 0}%
    {%
       {\large{\bfseries OPIEKUN, PROMOTOR POMOCNICZY}\par}
       
       {\large{\bfseries \Consultant}\par}
    }%
    {}
} 
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
% Proszę nie modyfikować poniższych definicji!
\newcommand{\Author}{\FirstNameAuthor\ \MakeUppercase{\SurnameAuthor}} 
\newcommand{\Coauthor}{\FirstNameCoauthor\ \MakeUppercase{\SurnameCoauthor}}
\newcommand{\Type}{PROJEKT INŻYNIERSKI}
\newcommand{\Faculty}{Wydział Automatyki, Elektroniki i Informatyki} 
\newcommand{\Polsl}{Politechnika Śląska}
\newcommand{\Logo}{politechnika_sl_logo_bw_pion_pl.pdf}
\newcommand{\LeftId}{Nr albumu}
\newcommand{\LeftProgram}{Kierunek}
\newcommand{\LeftSpecialisation}{Specjalność}
\newcommand{\LeftSUPERVISOR}{PROWADZĄCY PRACĘ}
\newcommand{\LeftDEPARTMENT}{KATEDRA}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC USTAWIEŃ                             %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% MOJE PAKIETY, USTAWIENIA ITD                %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Tutaj proszę umieszczać swoje pakiety, makra, ustawienia itd.


 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% listingi i fragmentu kodu źródłowego 
% pakiet: listings lub minted
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

% biblioteka listings
\usepackage{listings}
\lstset{%
morekeywords={string,exception,std,vector},% słowa kluczowe rozpoznawane przez pakiet listings
language=C++,% C, Matlab, Python, SQL, TeX, XML, bash, ... – vide https://www.ctan.org/pkg/listings
commentstyle=\textit,%
identifierstyle=\textsf,%
keywordstyle=\sffamily\bfseries, %\texttt, %
%captionpos=b,%
tabsize=3,%
frame=lines,%
numbers=left,%
numberstyle=\tiny,%
numbersep=5pt,%
breaklines=true,%
escapeinside={@*}{*@},%
}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% pakiet minted
\usepackage{minted}

% pakiet wymaga specjalnego kompilowania:
% pdflatex -shell-escape main.tex
% xelatex  -shell-escape main.tex

%\usepackage[chapter]{minted} % [section]
%%\usemintedstyle{bw}   % czarno-białe kody 
%
%\setminted % https://ctan.org/pkg/minted
%{
%%fontsize=\normalsize,%\footnotesize,
%%captionpos=b,%
%tabsize=3,%
%frame=lines,%
%framesep=2mm,
%numbers=left,%
%numbersep=5pt,%
%breaklines=true,%
%escapeinside=@@,%
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC MOICH USTAWIEŃ                       %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}
\kslistofremarks

\frontmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% PROSZĘ NIE MODYFIKOWAĆ STRONY TYTUŁOWEJ!    %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%  STRONA TYTUŁOWA %%%%%%%%%%%%%%%%%%%
\pagestyle{empty}
{
	\newgeometry{top=1.5cm,%
	             bottom=2.5cm,%
	             left=3cm,
	             right=2.5cm}
 
	\ifxetex 
	  \begingroup
	  \setsansfont{Calibri}
	   
	\fi 
	 \sffamily
	\begin{center}
	\includegraphics[width=50mm]{\Logo}
	 
	
	{\Large\bfseries\Type\par}
	
	\vfill  \vfill  
			 
	{\large\Title\par}
	
	\vfill  
		
	{\large\bfseries\Author\par}
	
	{\normalsize\bfseries \LeftId: \IdAuthor}

	\printCoauthor
	
	\vfill  		
 
	{\large{\bfseries \LeftProgram:} \Program\par} 
	
	{\large{\bfseries \LeftSpecialisation:} \Specialisation\par} 
	 		
	\vfill  \vfill 	\vfill 	\vfill 	\vfill 	\vfill 	\vfill  
	 
	{\large{\bfseries \LeftSUPERVISOR}\par}
	
	{\large{\bfseries \Supervisor}\par}
				
	{\large{\bfseries \LeftDEPARTMENT\ \Departament} \par}
		
	{\large{\bfseries \Faculty}\par}
		
	\vfill  \vfill  

    	
    \printOpiekun{\Consultant}
    
	\vfill  \vfill  
		
    {\large\bfseries  Gliwice \the\year}

   \end{center}	
       \ifxetex 
       	  \endgroup
       \fi
	\restoregeometry
}
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                             %
% KONIEC STRONY TYTUŁOWEJ                     %
%                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  


\cleardoublepage

\rmfamily\normalfont
\pagestyle{empty}


%%% No to zaczynamy pisać pracę :-) %%%%

% TODO
\subsubsection*{Tytuł pracy} 
\Title

\subsubsection*{Streszczenie}  
(Streszczenie pracy – odpowiednie pole w systemie APD powinno zawierać kopię tego streszczenia.)

\subsubsection*{Słowa kluczowe} 
(2-5 slow (fraz) kluczowych, oddzielonych przecinkami)

\subsubsection*{Thesis title} 
\begin{otherlanguage}{british}
\TitleAlt
\end{otherlanguage}

\subsubsection*{Abstract} 
\begin{otherlanguage}{british}
(Thesis abstract – to be copied into an appropriate field during an electronic submission – in English.)
\end{otherlanguage}
\subsubsection*{Key words}  
\begin{otherlanguage}{british}
(2-5 keywords, separated by commas)
\end{otherlanguage}




%%%%%%%%%%%%%%%%%% SPIS TRESCI %%%%%%%%%%%%%%%%%%%%%%
% Add \thispagestyle{empty} to the toc file (main.toc), because \pagestyle{empty} doesn't work if the TOC has multiple pages
\addtocontents{toc}{\protect\thispagestyle{empty}}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{stronyPozaNumeracja}{\value{page}}
\mainmatter
\pagestyle{empty}

\cleardoublepage

\pagestyle{NumeryStronNazwyRozdzialow}

%%%%%%%%%%%%%% wlasciwa tresc pracy %%%%%%%%%%%%%%%%%

% TODO
\chapter{Wstęp}
\label{ch:wstep}
\ksremark{Wstęp napiszemy na końcu.}

\begin{itemize}
\item wprowadzenie w problem/zagadnienie
\item osadzenie problemu w dziedzinie
\item cel pracy
\item zakres pracy
\item zwięzła charakterystyka rozdziałów
\item jednoznaczne określenie wkładu autora, w przypadku prac wieloosobowych – tabela z autorstwem poszczególnych elementów pracy
\end{itemize}



% TODO
\chapter{[Analiza tematu]}

\begin{itemize}
\item sformułowanie problemu
\item osadzenie tematu w kontekście aktualnego stanu wiedzy (\english{state of the art}) o poruszanym problemie
\item  studia literaturowe \cite{bib:artykul,bib:ksiazka,bib:konferencja,bib:internet} -  opis znanych rozwiązań (także opisanych naukowo, jeżeli problem jest poruszany w publikacjach naukowych), algorytmów, 
\end{itemize}

\section{Opis problemu}
Aplikacja w dużym stopniu oparta jest na interakcji z użytkownikiem, który w każdym momencie użytkowania ma wiele dostępnych mu działań. Wyzwaniem jest więc nie zaprojektowanie złożonej logiki programu, a zapewnienie poprawnego działania dla wszelkich danych wejściowych pobranych od użytkownika. Zabezpieczenia takie muszą pojawić się od strony interfejsu, który powinien maksymalnie ograniczać możliwość wprowadzenia niepoprawnych danych, ale i od strony backendu, gdzie weryfikować należy przychodzące zapytania HTTP. Zawartość odpowiedzi HTTP jest łatwo dostępna w inspektorze przeglądarki, dlatego już na jej poziomie nie mogą być dostępne dane wrażliwe (hasła), a nie dopiero na poziomie interfejsu.

Jedną z zalet aplikacji przeglądarkowych jest możliwość zapisywania odnośników do stron, na przykład do konkretnego pliku. Oznacza to jednak, że nawet dokładnie zaprojektowany interfejs nie pozwoli na pełną kontrolę ścieżki, którą użytkownik poruszać się będzie po programie. Zmieniając adres w przeglądarce, może on w dowolnym momencie usiłować dostać się do nieistniejących bądź nieudostępnionych mu zasobów.

Drugim problemem związanym z wykorzystaniem odnośników jest fakt, że użycie ich wiąże się z przeładowywaniem aplikacji, a co za tym idzie -- z utratą przechowywanych w niej danych. Aby zachować ciągłość działania, każdorazowo konieczne są odwołania do bazy danych, a także pamięci przeglądarki: ciasteczek, pamięci lokalnej i pamięci sesji.

\section{Istniejące rozwiązania}
\subsection{Google Calendar}
Popularną aplikacją służącą do zarządzania wydarzeniami i zadaniami jest Google Calendar. Zadania można dodać do kalendarza, ustawić ich termin oraz opis. Wydarzenia pozwalają ponadto między innymi na dodanie osób uczestniczących, miejsca wydarzenia i powiadomień.
\subsection{Google Docs, Google Drive}
Aplikacja Google Docs pozwala na tworzenie różnych rodzajów plików -- dokumentów tekstowych, prezentacji multimedialnych, arkuszy kalkulacyjnych -- i zapisywanie ich na dysku Google Drive. Pliki i foldery na dysku można udostępniać innym użytkownikom, dodając ich pojedynczo bądź grupowo, jak i udostępniając link. Udostępnienie ma trzy możliwe poziomy dostępu: tylko przeglądanie, komentowanie oraz edytowanie. Udostępnienie folderu przyznaje dostęp do wszystkich plików i podfolderów w nim się znajdujących.
\subsection{Produkty Microsoft Office}
Analogiczne funkcjonalności zapewniają aplikacje pakietu Microsoft Office. Programy typu OneNote, Word, PowerPoint, Excel pozwalają na tworzenie i udostępnianie plików różnych typów. Kalendarz pakietu Office pozwala na tworzenie wydarzeń, dodawanie do niego innych użytkowników i planowanie na ich podstawie spotkań w aplikacji Microsoft Teams.


% Wzory  
% \begin{align}
% y = \frac{\partial x}{\partial t}
% \end{align}
% jak i pojedyncze symbole $x$ i $y$  składa się w trybie matematycznym.


%\begin{Definition}\label{def:1}
%Definicja to zdanie (lub układ zdań) odpowiadające na pytanie o strukturze „co to jest a?”. Definicja normalna jest zdaniem złożonym z 2 członów: definiowanego (łac. definiendum) i definiującego (łac. definiens), połączonych spójnikiem definicyjnym („jest to”, „to tyle, co” itp.). 
%\end{Definition}
%
%\begin{Theorem}[Pitagorasa]\label{t:pitagoras}
%W dowolnym trójkącie prostokątnym suma kwadratów długości przyprostokątnych jest równa kwadratowi długości przeciwprostokątnej tego trójkąta. 
%\end{Theorem}
%
%\begin{Example}[generalizacja]\label{ex:generalizacja}
%Przykładem generalizacji jest para: zwierzę i pies. Pies jest zwierzęciem. Pies jest uszczegółowieniem pojęcia zwierzę. Zwierzę jest uogólnieniem pojęcia pies.
%\end{Example}

%%%%%%%%%%%%%%%%%%%%%%%%


 

% TODO
\chapter{Wymagania i narzędzia}
\label{ch:wymagania-i-narzedzia}

\begin{itemize}
\item wymagania funkcjonalne i niefunkcjonalne
\item przypadki użycia (diagramy UML) -- dla prac, w których mają zastosowanie
\item opis narzędzi, metod eksperymentalnych, metod modelowania itp.
\item metodyka pracy nad projektowaniem i implementacją -- dla prac, w których ma to zastosowanie
\end{itemize}

\section{Wymagania funkcjonalne}

\subsection{Użytkownicy}
Znaczna większość funkcjonalności aplikacji wymaga, aby znany był aktualnie zalogowany użytkownik -- od edycji profilu po przeglądanie plików. Ponadto istnieć powinien użytkownik specjalny (administrator), który zarządzać może pozostałymi użytkownikami. Wyróżnić można więc 3 rodzaje użytkowników:
\begin{description}
	\item [U.1] User -- użytkownik zwykły: edytuje profil, tworzy, przegląda, modyfikuje, usuwa, udostępnia elementy.
	\item [U.2] Admin -- administrator: posiada dostęp do wszystkich funkcjonalności użytkownika zwykłego, zarządza użytkownikami -- nadaje i odbiera uprawnienia administratorskie, usuwa użytkowników.
	\item [U.3] Anonymous -- użytkownik niezalogowany: loguje lub rejestruje się.
\end{description}	

Zależności między użytkownikami przedstawiono na rys. \ref{fig:uml-users}.

\begin{figure}
\centering
\includegraphics{./UML-Users.png}
\caption{Użytkownicy aplikacji.}
\label{fig:uml-users}
\end{figure}


\subsection{Funkcjonalności}
Dostępne użytkownikowi funkcje aplikacji można ogólnie podzielić na operacje związane z kontem -- autoryzacją i edycją -- oraz związane z plikami -- przeglądanie, edycja, tworzenie nowych plików.
\begin{itemize}
	\item [F.1.] Autentykacja użytkowników
	\begin{itemize}
		\item [F.1.1.] Logowanie użytkownika U.3. na istniejące konto przy pomocy nazwy użytkownika oraz hasła.
		\item [F.1.2.] Wylogowanie zalogowanego użytkownika (U.1., U.2.).
		\item [F.1.3.] Rejestracja nowego użytkownika w systemie, umożliwiająca następnie zalogowanie (por. F.1.1.).
	\end{itemize}
	\item [F.2.] Zarządzanie elementami.
	\begin{itemize}
		\item [F.2.1.] Tworzenie nowego elementu.
		\item [F.2.2.] Wyświetlenie elementu. Dla należącego do innego użytkownika - zależne od przydzielonego dostępu (por. F.2.5.).
		\item [F.2.3.] Edycja elementu.
		\begin{itemize}
			\item [F.2.3.1.] Przeniesienie do innego katalogu.
			\item [F.2.3.2.] Zmiana nazwy.
			\item [F.2.3.3.] Mofyfikacja zawartości. Dla należącego do innego użytkownika - zależne od przydzielonego dostępu (por. F.2.5.).
			\item [F.2.3.4.] Modyfikacja opcji powiadomień.
			\item [F.2.3.5.] Oddawanie głosu na termin wydarzenia.
		\end{itemize}
		\item [F.2.4.] Usunięcie elementu.
		\item [F.2.5.] Przydział dostępu innym użytkownikom do elementów.
	\end{itemize}
	\item [F.3.] Zarządzanie kontem użytkownika.
	\begin{itemize}
		\item [F.3.1.] Edycja danych.
		\item [F.3.2.] Usunięcie konta.
	\end{itemize}
	\item [F.4.] Zarządzanie użytkownikami przez administratora (U.2.).
	\begin{itemize}
		\item [F.4.1.] Wyświetlenie wszystkich użytkowników systemu.
		\item [F.4.2.] Wyświetlenie jednego użytkownika.
		\item [F.4.3.] Nadanie bądź odebranie użytkownikowi uprawnień administratora.
		\item [F.4.4.] Usunięcie użytkownika.
	\end{itemize}
	\item [F.5.] Odporność na nieprawidłowe dane wejściowe.
\end{itemize}

Wymagania funkcjonalne dla poszczególnych użytkowników przedstawiono na rys. \ref{fig:uml-admin}, \ref{fig:uml-logged}, \ref{fig:uml-anon}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./UML-Admin.png}
\caption{Diagram przypadków użycia aplikacji dla administratora.}
\label{fig:uml-admin}
\end{figure}

\begin{figure}
\centering
\includegraphics[height=\textheight]{./UML-Logged.png}
\caption{Diagram przypadków użycia aplikacji dla zwykłego, zalogowanego użytkownika.}
\label{fig:uml-logged}
\end{figure}

\begin{figure}
\centering
\includegraphics{./UML-Anonymous.png}
\caption{Diagram przypadków użycia aplikacji dla użytkownika niezalogowanego.}
\label{fig:uml-anon}
\end{figure}

\section{Wymagania niefunkcjonalne}

Dla aplikacji wymagającej zalogowania przez użytkownika, służącej do przechowywania prywatnych informacji niezbędne jest zapewnienie bezpieczeństwa danych przed potencjalnym przechwyceniem. Hasła użytkowników muszą być przechowywane w formie zakodowanej, do minimum należy też ograniczyć przesyłanie ich do front-endu -- potrzebne są tylko do logowania, rejestracji oraz zmiany hasła.

Istotna również jest intuicyjność interfejsu użytkownika. Elementy interfejsu i ich zachowania powinny być podobne do takich, jakie można znaleźć w innych podobnych aplikacjach. Ponadto przyciski i formularze powinny zawierać informację, czego dotyczą, jakie operacje wykonują. Pomocne może być też zastosowanie ikon wraz z opisem tekstowym.

\section{Narzędzia}

Do implementacji back-endu wybrano framework Spring \cite{bib:spring}, pozwalający m.in. na pisanie aplikacji z wykorzystaniem Java Persistence API (Spring Data JPA) oraz proste zaimplementowanie autentykacji i autoryzacji użytkowników (Spring Security). Za wybraniem tego frameworku zamiast np. Entity Framework \cite{bib:entityframework} przemawiała również posiadana już wiedza o REST API oraz chęć pogłębienia znajomości samego Springa.
Wspieraną przez Spring bazę danych MySQL \cite{bib:mysql} oraz sam back-end postanowiono uruchomić w kontenerze Dockera \cite{bib:docker}.

Do testowania back-endu niezależnie od front-endu wykorzystano aplikację Postman \cite{bib:postman}. Pozwala ona na bezpośrednie wysyłanie zapytań HTTP m.in. metodami GET, POST, PUT, DELETE z ciałem w wybranym formacie, a także na przykład na przeglądanie ciasteczek.

Do wykonania front-endu posłużył framework Angular \cite{bib:angularnew,bib:angularold}. Podobnie jak w przypadku Springa, za tym wyborem przemawiało pragnienie pogłębienia wstępnej wiedzy o frameworku. Subiektywną zaletą jest też, w przeciwieństwie do popularniejszego \footnote{\url{https://trends.stackoverflow.co/?tags=reactjs,vue.js,angular,svelte,angularjs,vuejs3}, dostęp 08.11.2024} Reacta \cite{bib:react}, wyraźny rozdział na pliki HTML, CSS (SCSS) oraz TypeScript w ramach danego komponentu. 
Wykorzystano również komponenty Angular Material \cite{bib:angularmaterial}, dzięki którym w prosty sposób uzyskać można estetycznie i spójnie wyglądający interfejs graficzny, zgodny z wytycznymi Material Design firmy Google \cite{bib:material}. Wykorzystanie gotowych komponentów pozwala na skupienie się na samej logice programu. Do operacji matematycznych na datach użyto biblioteki Luxon \cite{bib:luxon}.


% TODO
\chapter{Specyfikacja zewnętrzna}
\label{ch:04}

Jeśli „Specyfikacja zewnętrzna”:
\begin{itemize}
\item  wymagania sprzętowe i programowe
\item  sposób instalacji
\item  sposób aktywacji
\item  kategorie użytkowników
\item  sposób obsługi
\item  administracja systemem
\item  kwestie bezpieczeństwa
\item  przykład działania
\item  scenariusze korzystania z systemu (ilustrowane zrzutami z ekranu lub generowanymi dokumentami)
\end{itemize}

\section{Uruchamianie}
\ksremark{Trochę inaczej bym to napisał. Tak, żeby szary użytkownik mógł iść prosto krok po kroku.}

\subsection{Wymagania}
Do uruchomienia programu potrzebne są: JDK wersja 17, Docker (w systemie Linux zainstalować można sam silnik Docker, w systemie Windows potrzebna jest aplikacja Docker Desktop) oraz Node.js, wraz z NPM (wykorzystano wersję 20). Program wykorzystywać będzie porty: 3306 (baza danych), 8080 (back-end) i 4200 (front-end) -- należy więc zadbać, aby żadna inna aplikacja nie korzystała z nich podczas uruchamiania.

\subsection{Instalacja}

Jeżeli spełnione zostały powyższe wymagania, można przejść do zbudowania i uruchomienia projektu. 

\ksremark{Skąd można pobrać źródła?}


\subsubsection{Linux}
\begin{enumerate}
   \item Należy rozpakować pliki źródłowe:

 \mintinline{bash}{unzip organizer.zip}
   \item W wybranym terminalu należy zmienić katalog: 

\mintinline{bash}{cd organizer}

Znajdować się w nim powinny pliki \mintinline{bash}{mvnw} oraz \mintinline{bash}{mvnw.cmd}.
   \item Następnie należy uruchomić kontener zawierający bazę danych poleceniem 

\mintinline{bash}{docker compose up db}.
   \item Aby zbudować projekt należy użyć polecenia 

\mintinline{bash}{./mvnw install}

 Po poprawnym wykonaniu polecenia, wygenerowany zostanie katalog \mintinline{bash}{target}, zawierający plik z rozszerzeniem \mintinline{bash}{.jar}.

	\item Przed uruchomieniem back-endu można zatrzymać kontener z bazą danych. Jeżeli korzysta się z programu Docker Desktop, wystarczy nacisnąć przycisk ,,stop'' przy kontenerze ,,db''.

	Aby zatrzymać kontener z poziomu terminala należy najpierw znaleźć jego identyfikator używając polecenia 

	\mintinline{bash}{docker ps}.

	Przykładowym wynikiem tego polecenia jest

	\begin{minted}{bash}
		CONTAINER ID   IMAGE       COMMAND                  CREATED       STATUS              PORTS                               NAMES
	c22ebdb94057   mysql:5.7   "docker-entrypoint.s…"   7 weeks ago   Up About a minute   0.0.0.0:3306->3306/tcp, 33060/tcp   organizer-db
	\end{minted}

	Następnie należy wykonać polecenie

	\mintinline{bash}{docker stop <CONTAINER ID>}

	wstawiając w miejsce <CONTAINER ID> identyfikator odczytany w poprzednim kroku (tu: c22ebdb94057).

	\item Obydwa kontenery należy zbudować poleceniem 

	\mintinline{bash}{docker compose build},

	a następnie uruchomić 

	\mintinline{bash}{docker compose up -d}.
    \end{enumerate}

W celu uruchomienia front-endu:

\begin{enumerate}
	 \item Należy zmienić bieżący katalog:

	 \mintinline{bash}{cd organizer-front}

	 \item Należy zainstalować wymagane pakiety poleceniami

	 \mintinline{bash}{npm install -g @angular/cli} 
	 
	 oraz
	 
	 \mintinline{bash}{npm install}

	 \item Aplikację należy uruchomić poleceniem

	 \mintinline{bash}{ng serve --proxy-config profxy.config.json}

	 \item W terminalu zostanie wypisany adres 

	 \mintinline{bash}{http://localhost:4200/}.

	Należy otworzyć go w wybranej przeglądarce wklejając go w polu adresu, bądź naciskając go lewym przyciskiem myszy, wciskając jednocześnie klawisz Ctrl.

	 \end{enumerate}



Po rozpakowaniu plików źródłowych \ksremark{Skąd można pobrać źródła?}, w wybranym terminalu należy ustawić bieżący katalog na \mintinline{powershell}{organizer}. Znajdować się w nim powinny pliki \mintinline{powershell}{mvnw} oraz \mintinline{powershell}{mvnw.cmd}. Najpierw należy uruchomić kontener zawierający bazę danych poleceniem \mintinline{powershell}{docker compose up db}. Aby zbudować projekt należy użyć polecenia \mintinline{powershell}{.\mvnw.cmd install} w systemie Windows, bądź \mintinline{powershell}{./mvnw install} w systemie Linux. Polecenie automatycznie zainstaluje również narzędzie Maven w odpowiedniej wersji, jeśli nie znajdzie go na komputerze. Po poprawnym wykonaniu polecenia, wygenerowany zostanie katalog \mintinline{powershell}{target}, zawierający plik z rozszerzeniem \mintinline{bash}{.jar}.


\subsubsection{Windows}

Po rozpakowaniu plików źródłowych \ksremark{Skąd można pobrać źródła?}, w wybranym terminalu należy ustawić bieżący katalog na \mintinline{powershell}{organizer}. Znajdować się w nim powinny pliki \mintinline{powershell}{mvnw} oraz \mintinline{powershell}{mvnw.cmd}. Najpierw należy uruchomić kontener zawierający bazę danych poleceniem \mintinline{powershell}{docker compose up db}. Aby zbudować projekt należy użyć polecenia \mintinline{powershell}{./mvnw.cmd install} w systemie Windows, bądź \mintinline{powershell}{./mvnw install} w systemie Linux. Polecenie automatycznie zainstaluje również narzędzie Maven w odpowiedniej wersji, jeśli nie znajdzie go na komputerze. Po poprawnym wykonaniu polecenia, wygenerowany zostanie katalog \mintinline{powershell}{target}, zawierający plik z rozszerzeniem \mintinline{bash}{.jar}.
 
Następnym krokiem jest uruchomienie back-endu w kontenerze Dockera. W tym celu można najpierw zatrzymać kontener z bazą danych, a wykonać polecenia \mintinline{powershell}{docker compose build} i \mintinline{powershell}{docker compose up -d}. Zalecane jest użycie przełącznika \mintinline{powershell}{-d}, aby uruchomić kontener w tle.

Niektóre środowiska zintegrowane, takie jak IntelliJ IDEA, pozwalają na wykonanie powyższych poleceń (z wyjątkiem \mintinline{powershell}{docker compose build}) w z poziomu interfejsu graficznego.

W celu uruchomienia front-endu należy ustawić bieżący katalog na \mintinline{powershell}{organizer-front} i wywołać polecenie \mintinline{powershell}{npm install -g @angular/cli} i \mintinline{powershell}{npm install} aby zainstalować potrzebne pakiety. Następnie należy wykonać polecenie \mintinline{powershell}{ng serve --proxy-config profxy.config.json}. W terminalu wypisany zostanie adres \mintinline{bash}{http://localhost:4200/}, na który można nacisnąć lewym przyciskiem myszy, wciskając jednocześnie klawisz Ctrl, aby otworzyć go w domyślnej przeglądarce, lub też wpisać w jej polu adresu.

%%%%%%%%%%%%%%%%%%%%%
%% RYSUNEK Z PLIKU
%
%\begin{figure}
%\centering
%\includegraphics[width=0.5\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%\caption{Podpis rysunku zawsze pod rysunkiem.}
%\label{fig:etykieta-rysunku}
%\end{figure}
%Rys. \ref{fig:etykieta-rysunku} przestawia …
%%%%%%%%%%%%%%%%%%%%%
%
%%%%%%%%%%%%%%%%%%%%%
%% WIELE RYSUNKÓW 
%
%\begin{figure}
%\centering
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Lewy górny rysunek.}
%    \label{fig:lewy-gorny}
%\end{subfigure}
%\hfill
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Prawy górny rysunek.}
%    \label{fig:prawy-gorny}
%\end{subfigure}
%
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Lewy dolny rysunek.}
%    \label{fig:lewy-dolny}
%\end{subfigure}
%\hfill
%\begin{subfigure}{0.4\textwidth}
%    \includegraphics[width=\textwidth]{./politechnika_sl_logo_bw_pion_pl.pdf}
%    \caption{Prawy dolny rysunek.}
%    \label{fig:prawy-dolny}
%\end{subfigure}
%        
%\caption{Wspólny podpis kilku rysunków.}
%\label{fig:wiele-rysunkow}
%\end{figure}
%Rys. \ref{fig:wiele-rysunkow} przestawia wiele ważnych informacji, np. rys. \ref{fig:prawy-gorny} jest na prawo u góry.
%%%%%%%%%%%%%%%%%%%%%


 
% \begin{figure}
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%     y tick label style={
%         /pgf/number format/.cd,
%             fixed,   % po zakomentowaniu os rzednych jest indeksowana wykladniczo
%             fixed zerofill, % 1.0 zamiast 1
%             precision=1,
%         /tikz/.cd
%     },
%     x tick label style={
%         /pgf/number format/.cd,
%             fixed,
%             fixed zerofill,
%             precision=2,
%         /tikz/.cd
%     }
% ]
% \addplot [domain=0.0:0.1] {rnd};
% \end{axis} 
% \end{tikzpicture}
% \caption{Podpis rysunku po rysunkiem.}
% \label{fig:2}
% \end{figure}



% TODO
\chapter{Specyfikacja wewnętrzna}
\label{ch:05}


Jeśli „Specyfikacja wewnętrzna”:
\begin{itemize}
\item przedstawienie idei
\item architektura systemu
\item opis struktur danych (i organizacji baz danych)
\item komponenty, moduły, biblioteki, przegląd ważniejszych klas (jeśli występują)
\item przegląd ważniejszych algorytmów (jeśli występują)
\item szczegóły implementacji wybranych fragmentów, zastosowane wzorce projektowe
\item diagramy UML
\end{itemize}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% Pakiet minted wymaga importu: \usepackage{minted}                 %
% i specjalnego kompilowania:                                       %
% pdflatex -shell-escape main                                       %
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 


Krótka wstawka kodu w linii tekstu jest możliwa, np.  \lstinline|int a;| (biblioteka \texttt{listings})% lub  \mintinline{C++}|int a;| (biblioteka \texttt{minted})
. 
Dłuższe fragmenty lepiej jest umieszczać jako rysunek, np. kod na rys \ref{fig:pseudokod:listings}% i rys. \ref{fig:pseudokod:minted}
, a naprawdę długie fragmenty – w załączniku.


% \begin{figure}
% \centering
% \begin{lstlisting}
% class test : public basic
% {
%     public:
%       test (int a);
%       friend std::ostream operator<<(std::ostream & s, 
%                                      const test & t);
%     protected:
%       int _a;  
      
% };
% \end{lstlisting}
% \caption{Pseudokod w \texttt{listings}.}
% \label{fig:pseudokod:listings}
% \end{figure}

\section{Lista klas}

Zależności między klasami przedstawiono na rys. \ref{fig:erd}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ERD.png}
\caption{Schemat ERD klas w bazie danych.}
\label{fig:erd}
\end{figure}

Tabele w bazie danych mają następujące atrybuty:
\begin{itemize}
	\item \mintinline{sql}{AccessDirectory(directory_id (PK, FK), user_id (PK, FK), access_privilege)} 
	\item \mintinline{sql}{AccessFile(file_id (PK, FK), user_id (PK, FK), access_privilege)} 
	\item \mintinline{sql}{Directory(id (PK), name, owner_id (FK), parent_id (FK))} 
	\item \mintinline{sql}{EventDate(id (PK), start, end, total_score, event_id (FK))} 
	\item \mintinline{sql}{File(id (PK), file_type, creation_date, name, text_content, start_date, end_date, location, deadline, is_finished, owner_id (FK), parent_id (FK))}
	\item \mintinline{sql}{Notification(id (PK), message, send_time_setting, is_sent, is_read, file_id (FK), user_id (FK))}
	\item \mintinline{sql}{RefreshToken(id (PK), token, expiry_date, user_id (FK))}
	\item \mintinline{sql}{User(id (PK), username, password, name, email, role)}
	\item \mintinline{sql}{Vote(id (PK), score, user_id (FK), event_date_id (FK))}
\end{itemize}

Do zaimplementowania dziedziczenia klas \mintinline{java}{Event}, \mintinline{java}{Note} i \mintinline{java}{Task} po klasie bazowej wybrano strategię \english{Singe Table Inheritance}. W bazie danych wszystkie klasy reprezentowane są przez tę samą tabelę \mintinline{sql}{File}, która zawiera kolumny atrybutów wszystkich dziedziczących klas, a także ukrytą kolumnę \mintinline{sql}{file_type}, pozwalającą frameworkowi na rozróżnienie typów podczas mapowania obiektowo-relacyjnego. Rozwiązanie takie pozwala również na odczytanie jednocześnie wszystkich typów plików, co jest przydatne podczas wyświetlania ich w eksploratorze.

Rozwiązanie MappedSuperclass zostało odrzucone, ponieważ nie tworzy ono tabeli klasy bazowej, przez co nie może ona być w relacji z żadną inną klasą. Rozwiązania Joined Table oraz Table Per Class mogłyby wykorzystane, jednak są mniej optymalne z perspektywy założonego działania.

\section{Lista endpointów}

W tym podrozdziale przedstawiono listę wszystkich endpointów wystawianych przez backend. Dla każdego opisano URL, ogólną zasadę działania, dane wejściowe oraz możliwe odpowiedzi.

\subsection{Authorization}\label{authorization}

\paragraph{Log In}\label{log-in}

\mintinline{bash}{POST /api/auth/login}

Logowanie użytkownika.

Wymagane w ciele zapytania: nazwa użytkownika (username), hasło
(password)

\begin{minted}{json}
{
    "username": "newUser",
    "password": "password"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne zalogowanie: obiekt użytkownika z pustym hasłem, kod 200 (OK) 
	\item Niepoprawne hasło/login: ,,Incorrect credentials'', kod 403 (Forbidden) 
	\item Brak hasła/loginu: ,,Empty username or password'', kod 400 (Bad Request) 
\end{itemize}

\paragraph{Log Out} 

\mintinline{bash}{POST /api/auth/logout}



Wylogowanie użytkownika.

Brak wymaganego ciała zapytania.

\begin{minted}{json}
{}
\end{minted}

Odpowiedź: ,,Success'', puste ciasteczka w nagłówku, kod 200 (OK)

\paragraph{Register}\label{register}

\mintinline{bash}{POST /api/auth/register}

Rejestracja nowego użytkownika i założenie jego katalogu bazowego Base Directory.

Wymagana nazwa użytkownika i hasło, opcjonalny adres email oraz imię (name). Pozostałe parametry są ignorowane.

\begin{minted}{json}
{
    "username": "someUser",
    "password": "password",
    "email": "some@email.com",
    "name": "Some User"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne zarejestrowanie: obiekt utworzonego użytkownika z pustym hasłem i rolą ROLE\_USER, kod 200 (OK) 
	\item Próba zarejestrowania użytkownika o istniejącej już nazwie: kod 403 (Forbidden) 
	\item Brak nazwy użytkownika lub hasła: kod 400 (Bad Request)
\end{itemize}

\paragraph{Change Password}\label{change-password}

\mintinline{bash}{PUT /api/auth/password}

Pozwala na zmianę hasła użytkownika.

Wymaga podania starego hasła, służącego do zatwierdzenia zmiany, oraz nowego hasła.

\begin{minted}{json}
{
  "oldPassword": "pwdOld",
  "newPassword": "pwdNew"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawna zmiana hasła: ,,Success'', kod 200 (OK)
	\item Brak podanego starego lub nowego hasła: kod 400 (Bad Request) 
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Stare hasło jest niepoprawne: kod 403 (Forbidden)
\end{itemize}


\paragraph{Grant/Revoke Admin Privilege}\label{grantrevoke-admin-privilege}

\mintinline{bash}{PUT /api/auth/grant} \mintinline{bash}{PUT /api/auth/revoke}

Nadanie/odebranie roli Administratora użytkownikowi.

Wymagana nazwa użytkownika. Endpoint dostępny jest tylko administratorowi.

\begin{minted}{json}
{
    "username": "newUser"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne nadanie/odebranie roli: obiekt użytkownika, kod 200 (OK) 
	\item Nieistniejąca nazwa użytkownika: kod 404 (Not Found) 
	\item Próba nadania/odebrania sobie roli: kod 400 (Bad Request) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}


\paragraph{Refresh Token}\label{refresh-token}

\mintinline{bash}{POST /api/refreshtoken}

Odświeża JWT odpowiadający za autoryzację użytkownika, jeżeli refreshToken zapisany w ciasteczkach nie stracił ważności.

Ciało zapytania jest ignorowane.

Odpowiedzi: 
\begin{itemize}
	\item Poprawne odświeżenie JWT: nowe ciasteczko JWT w nagłówku, kod 200 (OK) 
	\item refreshToken stracił ważność: kod 403 (Forbidden) 
	\item Nie znaleziono refreshToken w bazie danych: kod 404 (Not Found)
	\item refreshToken w ciasteczku jest pusty lub null: kod 400 (Bad Request)
\end{itemize}


\subsection{Users}\label{users}

\paragraph{Get All Users}\label{get-all-users}

\mintinline{bash}{GET /api/users}

Zwraca wszystkich użytkowników z pustymi hasłami. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik jest administratorem: lista obiektów użytkowników, kod 200 (OK) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get All Users Safe}\label{get-all-users-safe}

\mintinline{bash}{GET /api/users/safe}

Zwraca ID, nazwy użytkownika i nazwy wszystkich użytkowników.

Odpowiedź: lista obiektów użytkowników, kod 200 (OK)

\paragraph{Get User By ID}\label{get-user-by-id}

\mintinline{bash}{GET /api/users/{id}}

Zwraca użytkownika o podanym ID z pustym hasłem. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik istnieje: obiekt użytkownika, kod 200 (OK)
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request) 
	\item Użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get User By ID Safe}\label{get-user-by-id}

\mintinline{bash}{GET /api/users/safe/{id}}

Zwraca ID, nazwę użytkownika oraz nazwę dla użytkownika o podanym ID z pustym hasłem.

Odpowiedzi: 
\begin{itemize}
	\item Użytkownik istnieje: obiekt użytkownika, kod 200 (OK)
	\item Użytkownik nie istnieje: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request) 
\end{itemize}

\paragraph{Update User}\label{update-user}

\mintinline{bash}{PUT /api/users}

Aktualizuje użytkownika.

Wymagane podanie ID użytkownika w ciele zapytania. Możliwa jest tylko aktualizacja własnego użytkownika.

\begin{minted}{json}
{
    "id": 5,
    "name": "New User 2"
}
\end{minted}

Parametry brane pod uwagę: 
\begin{itemize}
	\item  username \item  name \item  email
\end{itemize}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt użytkownika z pustym hasłem, kod 200 (OK) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Próba zmiany nazwy użytkownika na już istniejącą lub pustą/zmiany użytkownika innego niż aktualnie zalogowany: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete User}\label{delete-user}

\mintinline{bash}{DELETE /api/users/{id}}

Usuwa użytkownika o podanym ID, wraz z jego katalogami, głosami i powiadomieniami. Endpoint dostępny tylko administratorowi.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Próba usunięcia własnego użytkownika/użytkownik nie jest administratorem: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete My User}\label{delete-my-user}

\mintinline{bash}{DELETE /api/users/delete}

Wylogowuje i usuwa aktualnie zalogowanego użytkownika, wraz z jego katalogami, głosami i powiadomieniami.

Odpowiedzi: 
\begin{itemize}
	\item  Poprawne usunięcie: puste ciasteczka w nagłówku, kod 200 (OK) 
	\item  Nie znaleziono użytkownika: kod 404 (Not Found)
\end{itemize}

\subsection{Directories}\label{directories}

\paragraph{Get My Base Directory}\label{get-my-base-directory}

\mintinline{bash}{GET /api/directories/basedirs}

Zwraca katalog bazowy aktualnie zalogowanego użytkownika.

Odpowiedź: obiekt katalogu bazowego, kod 200 (OK)

\paragraph{Get Directories By Parent ID}\label{get-directories-by-parent-id}

\mintinline{bash}{GET /api/directories/subdirs/{id}}

Zwraca katalogi podrzędne katalogu o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów katalogów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get Directory By ID}\label{get-directory-by-id}

\mintinline{bash}{GET /api/directories/{id}}

Zwraca katalog o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt katalogu, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Check Directory Edit Access}\label{check-directory-edit-access}

\mintinline{bash}{GET /api/directories/check/{id}}

Sprawdza, czy aktualnie zalogowany użytkownik posiada prawa do edycji katalogu o danym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: true jeżeli użytkownik może edytować katalog, false jeżeli nie, kod 200 (OK) 
	\item Nie podano ID: kod 400 (Bad Request) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\paragraph{Create Directory}\label{create-directory}

\mintinline{bash}{POST /api/directories}

Tworzy nowy katalog.

Wymagane ID rodzica, można podać nazwę. W przypadku niepodania nazwy, domyślnie ustawiana jest ona na ,,Unnamed Directory''.

\begin{minted}{json}
{
    "name": "Test Directory",
    "parent": 3
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Poprawne utworzenie katalogu: obiekt nowego katalogu, kod 200 (OK) 
	\item Brak ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Directory}\label{update-directory}

\mintinline{bash}{PUT /api/directories}

Aktualizuje katalog.

Wymagane podanie ID katalogu w ciele zapytania.

\begin{minted}{json}
{
    "id": 2,
    "name": "Some Directory"
}
\end{minted}

Parametry brane pod uwagę: 
\begin{itemize}
	\item  name
\end{itemize}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt katalogu, kod 200 (OK)
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete Directory}\label{delete-directory}

\mintinline{bash}{DELETE /api/directories/\{id\}}

Usuwa katalog o podanym ID, wraz z jego plikami.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\subsection{Files}\label{files}

\paragraph{Get Files In Directory}\label{get-files-in-directory}

\mintinline{bash}{GET /api/files/dir/{id}}

Zwraca wszystkie pliki w katalogu o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów katalogów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Get File By ID}\label{get-file-by-id}

\mintinline{bash}{GET /api/files/{id}}

Zwraca katalog o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt katalogu, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request) 
	\item Brak dostępu: kod 403 (Forbidden)
\end{itemize}

\paragraph{Check File Edit Access}\label{check-file-edit-access}

\mintinline{bash}{GET /api/files/check/{id}}

Sprawdza, czy aktualnie zalogowany użytkownik posiada prawa do edycji pliku o danym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: true jeżeli użytkownik może edytować plik, false jeżeli nie, kod 200 (OK) 
	\item  Nie podano ID: kod 400 (Bad Request) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\paragraph{Create Event}\label{create-event}

\mintinline{bash}{POST /api/files/event}

Tworzy nowe wydarzenie.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Event''.

\begin{minted}{json}
{
    "name": "My First Event",
    "parent": 3,
    "textContent": "Hello World! This is my first event",
    "location": "Katowice"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowego wydarzenia, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Event}\label{update-event}

\mintinline{bash}{PUT /api/files/event}

Aktualizuje wydarzenie.

Wymagane podanie ID wydarzenia w ciele zapytania.

\begin{minted}{json}
{
    "id": 2,
    "location": "Gliwice"
}
\end{minted}

Parametry brane pod uwagę: 
\begin{itemize}
	\item  name \item  textContent \item  startDate \item  endDate \item location
\end{itemize}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt wydarzenia, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found) 
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Create Note}\label{create-note}

\mintinline{bash}{POST /api/files/note}

Tworzy nową notatkę.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Note''.

\begin{minted}{json}
{
  "name": "My First Note",
  "parent": 3,
  "textContent": "Hello World! This is my first note"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowej notatki, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Note}\label{update-note}

\mintinline{bash}{PUT /api/files/note}

Aktualizuje notatkę.

Wymagane podanie ID notatki w ciele zapytania.

\begin{minted}{json}
{
  "id": 1,
  "name": "My Note"
}
\end{minted}

Parametry brane pod uwagę: 
\begin{itemize}
	\item  name \item  textContent
\end{itemize}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt notatki, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found)
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Create Task}\label{create-task}

\mintinline{bash}{POST /api/files/task}

Tworzy nowe zadanie.

Wymagane jest podanie ID katalogu rodzica. Domyślną nazwą jest ,,Unnamed Task''.

\begin{minted}{json}
{
  "name": "My First Task",
  "parent": 2,
  "textContent": "Hello World! This is my first task",
  "isFinished": false
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: obiekt nowego zadania, kod 200 (OK) 
	\item Nie podano ID rodzica: kod 400 (Bad Request)
	\item Nie znaleziono ID rodzica: kod 404 (Not Found) 
	\item Katalog rodzic należy do innego użytkownika: kod 403 (Forbidden)
\end{itemize}

\paragraph{Update Task}\label{update-task}

\mintinline{bash}{PUT /api/files/task}

Aktualizuje zadanie.

Wymagane podanie ID zadania w ciele zapytania.

\begin{minted}{json}
{
  "id": 3,
  "isFinished": true
}
\end{minted}

Parametry brane pod uwagę: 
\begin{itemize}
	\item  name \item  textContent \item  isFinished \item  deadline
\end{itemize}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślna aktualizacja: obiekt zadania, kod 200 (OK) 
	\item Brak obiektu/próba zmiany katalogu nadrzędnego na należący do innego użytkownika: kod 400 (Bad Request) 
	\item Nie znaleziono ID: kod 404 (Not Found)
	\item Brak dostępu do edycji: kod 403 (Forbidden)
\end{itemize}

\paragraph{Delete File}\label{delete-file}

\mintinline{bash}{DELETE /api/files/{id}}

Usuwa plik o podanym ID, w przypadku wydarzenia - wraz z jego obiektami EventDate.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\subsection{Access Directory}\label{access-directory}

\paragraph{Get AccessDirectory By User}\label{get-accessdirectory-by-user}

\mintinline{bash}{GET /api/ad/user/{user}}

Zwraca listę obiektów AccessDirectory dla podanego ID użytkownika.

Lista jest pusta dla nieistniejącego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów AccessDirectory, kod 200 (OK)
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get AccessDirectory By Directory}\label{get-accessdirectory-by-directory}

\mintinline{bash}{GET /api/ad/dir/{dir}}

Zwraca listę obiektów AccessDirectory dla podanego ID katalogu.

Lista jest pusta dla nieistniejącego katalogu.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów AccessDirectory, kod 200 (OK)
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Modify AccessDirectory}\label{modify-accessdirectory}

\mintinline{bash}{POST /api/ad}

Tworzy lub aktualizuje obiekt AccessDirectory o podanych ID użytkownika i katalogu.

Wymagane podanie obydwu ID w ciele zapytania.

\begin{minted}{json}
{
    "id": {
        "userId": 4,
        "directoryId": 3
    },
    "accessPrivilege": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie/aktualizacja: obiekt AccessDirectory, kod 200 (OK) 
	\item Nie istnieje któreś z ID: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Delete AccessDirectory}\label{delete-accessdirectory}

\mintinline{bash}{DELETE /api/ad/{user}/{dir}}

Usuwa obiekt AccessDirectory o podanych ID użytkownika i katalogu.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieją: kod 200 (OK) 
	\item ID nie istnieją: kod 404 (Not Found)
\end{itemize}

\subsection{Access File}\label{access-file}

\paragraph{Get AccessFile By User}\label{get-accessfile-by-user}

\mintinline{bash}{GET /api/af/user/{user}}

Zwraca listę obiektów AccessFile dla podanego ID użytkownika.

Lista jest pusta dla nieistniejącego użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów AccessFile, kod 200 (OK) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get AccessFile By File}\label{get-accessfile-by-file}

\mintinline{bash}{GET /api/af/file/{file}}

Zwraca listę obiektów AccessFile dla podanego ID pliku.

Lista jest pusta dla nieistniejącego pliku.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów AccessFile, kod 200 (OK) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Modify AccessFile}\label{modify-accessfile}

\mintinline{bash}{POST /api/af}

Tworzy lub aktualizuje obiekt AccessFile o podanych ID użytkownika i pliku.

Wymagane podanie obydwu ID w ciele zapytania.

\begin{minted}{json}
{
    "id": {
        "userId": 4,
        "fileId": 3
    },
    "accessPrivilege": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie/aktualizacja: obiekt AccessFile, kod 200 (OK) 
	\item Nie istnieje któreś z ID: kod 404 (Not Found) 
	\item Brak ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Delete AccessFile}\label{delete-accessfile}

\mintinline{bash}{DELETE /api/af/{user}/{file}}

Usuwa obiekt AccessFile o podanych ID użytkownika i pliku.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieją: kod 200 (OK) 
	\item ID nie istnieją: kod 404 (Not Found)
\end{itemize}

\subsection{Event Dates}\label{event-dates}

\paragraph{Get All EventDates}\label{get-all-eventdates}

\mintinline{bash}{GET /api/ed}

Zwraca wszystkie obiekty EventDate.

Odpowiedź: lista obiektów EventDate, kod 200 (OK)

\paragraph{Get EventDates By Event ID}\label{get-eventdates-by-event-id}

\mintinline{bash}{GET /api/ed?id={eventId}}

Zwraca obiekty EventDate dotyczące wydarzenia o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów EventDate, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get EventDate By ID}\label{get-eventdate-by-id}

\mintinline{bash}{GET /api/ed/{id}}

Zwraca obiekt EventDate o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: obiekt EventDate, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Create EventDate}\label{create-eventdate}

\mintinline{bash}{POST /api/ed}

Tworzy obiekt EventDate.

Wymagane jest podanie ID wydarzenia, a także początku i końca terminu. Wynik całkowity ustawiany jest na 0. Wydarzenie musi istnieć i należeć do tworzącego obiekt użytkownika.

\begin{minted}{json}
{
    "event": 2,
    "start" : "2024-10-18T12:00:00",
    "end": "2024-10-18T12:30:00"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: nowy obiekt EventDate, kod 200 (OK) 
	\item Brak ID/terminu początkowego/końcowego: kod 400 (Bad Request)
	\item Wydarzenie nie istnieje: kod 404 (Not Found) 
	\item Wydarzenie należy do innego użytkownika: kod 403 (Forbidden) 
\end{itemize}

\paragraph{Delete EventDate}\label{delete-eventdate}

\mintinline{bash}{DELETE /api/ed/{id}}

Usuwa obiekt EventDate o podanym ID, wraz z jego głosami. Wydarzenie należeć musi do usuwającego obiekt użytkownika.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
	\item Wydarzenie należy do innego użytkownika: kod 403 (Forbidden) 
\end{itemize}

\subsection{Votes}\label{votes}

\paragraph{Get Votes By EventDate ID}\label{get-votes-by-eventdate-id}

\mintinline{bash}{GET /api/votes/ed/{id}}

Zwraca głosy na termin EventDate o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów głosów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Get Current User's Vote By EventDate ID}\label{get-current-users-vote-by-eventdate-id}

\mintinline{bash}{GET /api/votes/myvote/{id}}

Zwraca listę głosów oddanych przez aktualnie zalogowanego użytkownika na termin EventDate o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów głosów, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Cast Vote}\label{cast-vote}

\mintinline{bash}{POST /api/votes}

Sprawdza, czy zalogowany użytkownik oddał głos na dany termin, jeżeli nie, to tworzy nowy głos, jeżeli tak, to aktualizuje istniejący. Modyfikuje wynik całkowity dla terminu EventDate.

Wymagane podanie ID EventDate.

\begin{minted}{json}
{
    "eventDate": 1,
    "score": 1
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne oddanie/modyfikacja głosu: obiekt głosu, kod 200 (OK) 
	\item Nie podano ID EventDate: kod 400 (Bad Request) 
	\item Nie istnieje ID EventDate: kod 404 (Not Found)
\end{itemize}

\paragraph{Delete Vote}\label{delete-vote}

\mintinline{bash}{DELETE /api/vote/{id}}

Usuwa głos o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

\subsection{Notifications}\label{notifications}

\paragraph{Get All My Notifications}\label{get-all-my-notifications}

\mintinline{bash}{GET /api/notifs/mynotifs}

Zwraca wszystkie wysłane powiadomienia aktualnie zalogowanego użytkownika.

Odpowiedź: lista obiektów powiadomień, kod 200 (OK)

\paragraph{Get All My Read/Unread Notifications}\label{get-all-my-readunread-notifications}

\mintinline{bash}{GET /api/notifs/mynotifs?read={read}}

Zwraca wszystkie wysłane odczytane/nieodczytane powiadomienia aktualnie zalogowanego użytkownika, w zależności od parametru read (true - odczytane, false - nieodczytane).

Odpowiedź: lista obiektów powiadomień, kod 200 (OK)

\paragraph{Get Current User's Notification By File ID}\label{get-current-users-notification-by-file-id}

\mintinline{bash}{GET /api/notifs/file/{id}}

Zwraca listę niewysłanych powiadomień aktualnie zalogowanego użytkownika powiązanych z plikiem o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: lista obiektów powiadomień, kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found) 
	\item Nie podano ID: kod 400 (Bad Request)
\end{itemize}

\paragraph{Create Notification}\label{create-notification}

\mintinline{bash}{POST /api/notifs}

Tworzy powiadomienie.

Wymagane jest podanie ID użytkownika odbiorcy oraz pliku. Czas wysłania domyślnie ustawiany jest na czas utworzenia, powiadomienie jest domyślnie nieodczytane. Wysłanie odbywa się na podstawie porównania aktualnego czasu z czasem wysłania.

\begin{minted}{json}
{
  "user": 3,
  "file": 3,
  "message": "Test notif",
  "sendTimeSetting": "2024-10-28T15:30:00"
}
\end{minted}

Odpowiedzi: 
\begin{itemize}
	\item Pomyślne utworzenie: nowy obiekt powiadomienia, kod 200 (OK) 
	\item Brak ID użytkownika/pliku: kod 400 (Bad Request) 
	\item Nie istnieje ID użytkownika/pliku: kod 404 (Not Found)
\end{itemize}

\paragraph{Send Current User's Notifications}\label{send-current-users-notifications}

\mintinline{bash}{PUT /api/notifs/send}

Wysyła powiadomienia aktualnie zalogowanego poprzez porównanie ich czasu wysłania z czasem aktualnym.

Odpowiedzi: 
\begin{itemize}
	\item Poprawna aktualizacja powiadomień: kod 200 (OK) 
	\item Nie znaleziono użytkownika: kod 404 (Not Found)
\end{itemize}

\paragraph{Delete Notification}\label{delete-notification}

\mintinline{bash}{DELETE /api/notifs/{id}}

Usuwa powiadomienie o podanym ID.

Odpowiedzi: 
\begin{itemize}
	\item ID istnieje: kod 200 (OK) 
	\item ID nie istnieje: kod 404 (Not Found)
\end{itemize}

%\begin{figure}
%\centering
%\begin{minted}[linenos,frame=lines]{c++}
%class test : public basic
%{
%    public:
%      test (int a);
%      friend std::ostream operator<<(std::ostream & s, 
%                                     const test & t);
%    protected:
%      int _a;  
%      
%};
%\end{minted}
%\caption{Pseudokod w \texttt{minted}.}
%\label{fig:pseudokod:minted}
%\end{figure}




% TODO
\chapter{Weryfikacja i walidacja}
\label{ch:06}
\begin{itemize}
\item sposób testowania w ramach pracy (np. odniesienie do modelu V)
\item organizacja eksperymentów
\item przypadki testowe zakres testowania (pełny/niepełny)
\item wykryte i usunięte błędy
\item opcjonalnie wyniki badań eksperymentalnych
\end{itemize}

Testowanie aplikacji wymaga sprawdzenia, czy jest ona odporna na nieprawidłowe dane wejściowe oraz czy dla danych poprawnych zachowuje się zgodnie z oczekiwaniami. Przetestować pod tym kątem należy zarówno back-end, jak i front-end.

W przypadku back-endu należy zweryfikować, czy faktyczne odpowiedzi są zgodne z wymienionymi w podrozdziale ,,Lista Endpointów'' \ksremark{odwołanie poprzez etykietę \LaTeX a}. Z kolei front-end powinien już na poziomie interfejsu w jak największym stopniu ograniczyć możliwość wprowadzenia błędnych danych.

\subsection{Testowanie back-endu}

Testowanie rozpoczęto od sprawdzenia przypadków użycia dla użytkownika niezalogowanego. Większość endpointów wymaga autentykacji, sprawdzono więc, że zwracają one bez niej kod 403 (Forbidden). Przykład takiego zapytania pokazano na rys. \ref{fig:send-notifs-403}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./SendNotifs403.png}
\caption{Zrzut ekranu z programu Postman przedstawiający próbę użycia endpointu, do którego użytkownik nie posiada dostępu.}
\label{fig:send-notifs-403}
\end{figure}

Przy rejestracji, zgodnie z założeniami, otrzymano kod 400 gdy w ciele zapytania brakowało hasła lub nazwy użytkownika, oraz kod 403 gdy wpisano nazwę użytkownika występującą już w bazie danych. Dla poprawnych danych:
\begin{minted}{json}
{
	"username": "test",
	"password": "password",
	"name": "Test User"
}
\end{minted}
Otrzymano odpowiedź:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": null,
	"votes": null,
	"notifications": null
}
\end{minted}
Odpowiedź nie zawiera już hasła -- zostało ono zakodowane i zapisane w bazie.

Podobnie przetestowano logowanie: dla brakujących danych otrzymano kod 400 i informację ,,Empty username or password'', dla nieistniejącego loginu i nieprawidłowego hasła -- kod 403 i informację ,,Incorrect credentials''. Dla poprawnych danych logowania:
\begin{minted}{json}
{
	"username": "test",
	"password": "password"
}
\end{minted}
Otrzymano odpowiedź:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		26
	],
	"votes": [],
	"notifications": []
}
\end{minted}
Obiekt użytkownika został pobrany z bazy danych. Automatycznie utworzony został katalog bazowy, który jest jedynym katalogiem użytkownika nieposiadającym katalogu nadrzędnego.

Ponadto wygenerowane zostały dwa ciasteczka:
\begin{minted}{json}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiaWF0IjoxNzMzMDc1MTYxLCJleHAiOjE3MzMxNjE1NjF9.UOpUtCw0G1TgcEf9ufIk2T00JqQ8ARo61cZJnYslPdU; Path=/; HttpOnly; Expires=Mon, 02 Dec 2024 17:46:00 GMT;
organizerRefreshJwt=1ee7c994-e296-4a12-a636-8cf39380a1e8; Path=/api/auth/refreshtoken; HttpOnly; Expires=Mon, 02 Dec 2024 23:46:00 GMT;
\end{minted}

Następnie przetestowano przypadki użycia dla użytkownika zwykłego.

Wylogowanie przebiega zawsze pomyślnie, można je powtarzać nawet będąc już wylogowanym bez negatywnych skutków. W wyniku wylogowania obydwa ciasteczka stają się puste.

Przetestowano działanie odświeżania ciasteczka organizerJwt. Przed odświeżeniem ciasteczka miały następujące wartości:
\begin{minted}{json}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJuZXdVc2VyIiwiaWF0IjoxNzMzMTY2NDA4LCJleHAiOjE3MzMyNTI4MDh9._JyoQNrhYdpdl3EPM8NFg29c0HwLm5nMidQ8Fh4Wsik; Path=/; HttpOnly; Expires=Tue, 03 Dec 2024 19:06:48 GMT;
organizerRefreshJwt=8d9fab79-5a99-4bb0-b56b-ad0626fb2d61; Path=/api/auth/refreshtoken; HttpOnly; Expires=Wed, 04 Dec 2024 01:06:48 GMT;
\end{minted}
Po wykonaniu odświeżenia:
\begin{minted}{json}
organizerJwt=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJuZXdVc2VyIiwiaWF0IjoxNzMzMTY2NDg0LCJleHAiOjE3MzMyNTI4ODR9.ekR8DYMFlny3pKLKaunjOtXXTE3qH8dTfEFGYdaSpNs; Path=/; HttpOnly; Expires=Tue, 03 Dec 2024 19:08:04 GMT;
organizerRefreshJwt=8d9fab79-5a99-4bb0-b56b-ad0626fb2d61; Path=/api/auth/refreshtoken; HttpOnly; Expires=Wed, 04 Dec 2024 01:08:04 GMT;
\end{minted}

Próba dostępu do endpointu dostępnego tylko administratorowi, na przykład nadania roli administratora, skutkuje kodem 403 odpowiedzi.

Przetestowano tworzenie nowych elementów. Kody błędów 400, 403 i 404 są zwracane zgodnie z oczekiwaniami. Elementy tworzone są poprawnie, można je tworzyć tylko we własnych katalogach -- w przeciwnym razie zwracany jest kod 403. Kolumna textContent jest typu \mintinline{sql}{TEXT} -- jest to typ danych bazy MySQL o rozmiarze 64KB. Pozostałe kolumny tekstowe posiadają domyślny typ \mintinline{sql}{TINYTEXT}, mogą więc mieć maksymalnie 255 znaków. Próba przypisania większej liczby znaków skutkuje wyjątkiem w bazie danych. Przykład takiej sytuacji pokazano na rys. \ref{fig:change-name-256} oraz \ref{fig:change-name-255} Zabezpieczenie przed nim występuje po stronie front-endu. Back-end nie weryfikuje też, czy termin początkowy wydarzenia jest wcześniejszy od końcowego.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ChangeName256.png}
\caption{Zrzut ekranu z programu Postman przedstawiający nieudaną próbę zmiany nazwy katalogu na tekst o długości 256 znaków.}
\label{fig:change-name-256}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=\textwidth]{./ChangeName255.png}
\caption{Zrzut ekranu z programu Postman przedstawiający udaną próbę zmiany nazwy katalogu na tekst o długości 255 znaków.}
\label{fig:change-name-255}
\end{figure}

Z takim samym wynikiem przeprowadzono testy edycji nazw i zawartości elementów. Notatki, wydarzenia oraz zadania posiadają osobne endpointy do ich edycji. Próba edycji elementu przy użyciu niewłaściwego endpointu, na przykład wydarzenia używając \mintinline{bash}{PUT /api/files/note}, skutkuje kodem 404.

Element można przenieść tylko do istniejącego katalogu, należącego do tego samego użytkownika. Back-end nie blokuje sytuacji, w której użytkownik przemieszcza elementy innego użytkownika. Ignorowane są przypadki, gdy podejmowana jest próba przeniesienia katalogu bazowego, bądź ustawienia katalogu nadrzędnego na ten sam katalog:
\begin{minted}{json}
{
	"id": 29,
	"parent": 29
}
\end{minted}
Odpowiedź:
\begin{minted}{json}
{
	"id": 29,
	"name": "Child Directory",
	"owner": 22,
	"parent": 26,
	"children": [
		30
	],
	"files": []
}
\end{minted}

Możliwe jest jednak przeniesienie katalogu do jego katalogu podrzędnego. Skutkować to może nieskończoną pętlą weryfikacji dostępu dla użytkowników niebędących właścicielami tego katalogu i błędem bazy danych podczas usuwania, a sam katalog nie będzie widoczny dla użytkownika w interfejsie graficznym. Zdecydowano się nie weryfikować tej sytuacji na poziomie back-endu ze względu na potencjalną dużą złożoność algorytmu sprawdzającego -- konieczne byłoby sprawdzenie całej hierarchii katalogów poniżej edytowanego. Sytuację uniemożliwiono na poziomie front-endu. Zmianę można też łatwo cofnąć kolejną edycją, zmieniając ponownie katalog nadrzędny.

Przetestowano odczytywanie elementów, odpowiedzi były zgodne z wymienionymi na liście endpointów.

W katalogu o ID 29 umieszczono katalog podrzędny oraz plik:
\begin{minted}{json}
{
	"id": 29,
	"name": "Child Directory",
	"owner": 22,
	"parent": 26,
	"children": [
		30
	],
	"files": [
		15
	]
}
\end{minted}
Następnie usunięto katalog 29. Próba odczytu katalogu 29, 30 oraz pliku 15 skutkuje błędem 404 -- zawartość katalogu została kaskadowo usunięta.

W przypadku katalogu bazowego, próba usunięcia skutkuje kodem błędu 403.

Sprawdzanie uprawnień do edycji zwraca kod 404 dla nieistniejącego elementu, ,,true'' lub ,,false'' odpowiednio kiedy użytkownik posiada lub nie posiada uprawnień do edycji elementu.

Przetestowano działanie algorytmu dostępu dla użytkownika o ID 4. Zdefiniowano dla niego dostęp do katalogu 3 z poziomem dostępu 1 (odczyt) oraz do plików 1 i 2 z poziomem dostępu 2 (edycja). Struktura wymienionych plików:
\begin{minted}{bash}
katalog 1
	katalog 2
		katalog 11
			plik 2
	katalog 3
		plik 1
		plik 3
\end{minted}
Próba odczytu plików 1, 2 i 3 oraz katalogu 3 przebiega pomyślnie. Wysłanie zapytania GET dla katalogów 1, 2 i 11 skutkuje kodem 403. Pomyślnie przebiega edycja plików 1 i 2, natomiast dla pliku 3 otrzymywany jest kod 403.

12 grudnia 2024 roku o godzinie 18:10 dla użytkownika 4 dodano powiadomienie do pliku 1. 
\begin{minted}{json}
{
	"id": 6,
	"user": 4,
	"file": 1,
	"message": "Test notif",
	"sendTimeSetting": "2024-12-02T18:15:00",
	"read": false,
	"sent": false
}
\end{minted}
Wysłano od razu zapytanie Send Notifications. Zapytanie Get All Notifications dla użytkownika zwraca pustą listę, a zapytanie Get All Unsent Notifications dla pliku zwraca listę zawierającą to powiadomienie. Po godzinie 18:15 powtórzono wysłanie powiadomień i ponownie wykonano dwa zapytania Get. Tym razem powiadomienie zwrócone zostało przez endpoint \mintinline{bash}{GET /api/notifs/mynotifs} zwróciło listę z powiadomieniem, którego wartość pola \mintinline{sql}{sent} została zmieniona na \mintinline{sql}{true}. Lista niewysłanych powiadomień jest pusta.

Utworzono powiadomienie z wcześniejszym terminem wysłania.
\begin{minted}{json}
{
	"id": 7,
	"user": 4,
	"file": 1,
	"message": "Test notif 2",
	"sendTimeSetting": "2024-12-02T17:15:00",
	"read": false,
	"sent": true
}
\end{minted}
Powiadomienie od początku jest wysłane.

Możliwe jest również dodanie powiadomienia do pliku, do którego dany użytkownik nie ma dostępu. Nie zablokowano takiej możliwości na poziomie back-endu -- dodanie do pliku powiadomienia nie wpływa na dostęp do samego pliku. Podobnie możliwe jest też dodanie powiadomienia dla użytkownika innego niż zalogowany.

Próba utworzenia obiektu EventDate dla wydarzenia należącego do innego użytkownika skutkuje kodem 403, dla nieistniejącego wydarzenia -- kodem 404. Podanie ID pliku innego niż wydarzenie również zwraca kod 404. Próba utworzenia wydarzenia z pustym terminem początkowym zwraca kod 400, można jednak nie podać terminu końcowego:
\begin{minted}{json}
{
	"id": 7,
	"event": 16,
	"votes": null,
	"totalScore": 0,
	"start": "2024-11-18T12:00:00",
	"end": null
}
\end{minted}

Oddawanie wielu głosów na ten sam termin EventDate modyfikuje wartość \mintinline{sql}{score}, nie dodaje kolejnych głosów. Zalogowano się jako inny użytkownik i oddano głos: wartość \mintinline{sql}{totalScore} dla terminu jest każdorazowo przeliczana, jest równa sumie punktów z każdego głosu. Nie jest sprawdzane, czy głosujący ma dostęp do wydarzenia.

Zwykły użytkownik nie może listować pełnych danych innych użytkowników (kod 403), może jednak skorzystać z bezpiecznego endpointu -- dla wszystkich użytkowników oraz użytkownika o konkretnym ID. Fragment odpowiedzi dla bezpiecznego listowania wszystkich użytkowników:
\begin{minted}{json}
{
	"id": 4,
	"username": "newUser",
	"name": "User",
	"email": "",
	"password": null,
	"role": null,
	"directories": null,
	"votes": null,
	"notifications": null
},
{
	"id": 5,
	"username": "newUser2",
	"name": "New User 2",
	"email": "",
	"password": null,
	"role": null,
	"directories": null,
	"votes": null,
	"notifications": null
},
\end{minted}

Próba edycji danych innego użytkownika niż zalogowany skutkuje kodem błędu 403. Nie można też zmienić nazwy na inną występującą już w bazie. Wyjątkiem jest podanie własnej nazwy użytkownika. Podanie pustego ciągu znaków jako nowa nazwa użytkownika zwraca kod 403. Zmiany hasła i roli są ignorowane. Na puste ciągi znaków można zmieniać pola \mintinline{sql}{name} oraz \mintinline{sql}{email}.

Przetestowano zmianę hasła. Jeżeli nie podane zostanie stare lub nowe hasło otrzymywany jest kod 400. Dla niepoprawnego starego hasła zwracany jest kod 403. Zmieniono hasło w poprawny sposób i spróbowano zalogować się przy pomocy starego i nowego hasła -- operacja przebiegła pomyślnie dla hasła nowego. 

Zwykły użytkownik może usunąć tylko swoje konto. Usunięto użytkownika:
\begin{minted}{json}
{
	"id": 22,
	"username": "test",
	"name": "Test User",
	"email": null,
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		26
	],
	"votes": [
		13
	],
	"notifications": []
}
\end{minted}
Automatycznie nastąpiło wylogowanie -- endpointy dostępne każdemu zalogowanemu użytkownikowi zwracają kod 403, ciasteczka organizerJwt i organizerRefreshJwt są puste. Zalogowano się na konto innego użytkownika. Próby odczytu katalogu o ID 26 i głosów dla terminów wydarzeń użytkownika zwracają kod 404.

Zalogowano się jako administrator. Możliwe było wylistowanie pełnych danych użytkowników (nie licząc haseł). Fragment odpowiedzi:
\begin{minted}{json}
{
	"id": 4,
	"username": "newUser",
	"name": "User",
	"email": "newuser@email.com",
	"password": "",
	"role": "ROLE_ADMIN",
	"directories": [
		4,
		12,
		13
	],
	"votes": [
		1,
		7,
		9,
		11
	],
	"notifications": [
		6,
		7,
		8
	]
},
{
	"id": 5,
	"username": "newUser2",
	"name": "New User 2",
	"email": "newuser2@email.com",
	"password": "",
	"role": "ROLE_USER",
	"directories": [
		5
	],
	"votes": [],
	"notifications": []
},
\end{minted}

Nadano i odebrano innym użytkownikom rolę administratora. Próba zmiany własnej roli zwróciła kod 400.

Próba usunięcia własnego użytkownika poprzez endpoint administratora zwraca kod 403. Usunięcie innego użytkownika przebiegło pomyślnie.

\subsection{Wykryte i usunięte błędy}

Autentykacja: podczas logowania generowane są dwa ciasteczka: organizerJwt oraz organizerRefreshJwt. Drugie z ciasteczek służy do odświeżania pierwszego, powinno więc mieć dłuższy czas ważności. Przez przypadek do obydwu ciasteczek przypisywano tę samą wartość maxAge.

Odświeżanie ciasteczek: odświeżane było jedynie ciasteczko organizerJwt zamiast obydwu. 

Tworzenie elementu: dodano obsługę sytuacji, gdzie katalog nadrzędny o podanym ID nie istnieje lub należy do innego użytkownika.

Usuwanie elementu: element powinien móc usunąć jedynie jego właściciel. Przypadkowo zrealizowano sytuację odwrotną: wszyscy użytkownicy niebędący właścicielem mogli usuwać elementy.

% \begin{table}
% \centering
% \caption{Nagłówek tabeli jest nad tabelą.}
% \label{id:tab:wyniki}
% \begin{tabular}{rrrrrrrr}
% \toprule
% 	         &                                     \multicolumn{7}{c}{metoda}                                      \\
% 	         \cmidrule{2-8}
% 	         &         &         &        \multicolumn{3}{c}{alg. 3}        & \multicolumn{2}{c}{alg. 4, $\gamma = 2$} \\
% 	         \cmidrule(r){4-6}\cmidrule(r){7-8}
% 	$\zeta$ &     alg. 1 &   alg. 2 & $\alpha= 1.5$ & $\alpha= 2$ & $\alpha= 3$ &   $\beta = 0.1$  &   $\beta = -0.1$ \\
% \midrule
% 	       0 &  8.3250 & 1.45305 &       7.5791 &    14.8517 &    20.0028 & 1.16396 &                       1.1365 \\
% 	       5 &  0.6111 & 2.27126 &       6.9952 &    13.8560 &    18.6064 & 1.18659 &                       1.1630 \\
% 	      10 & 11.6126 & 2.69218 &       6.2520 &    12.5202 &    16.8278 & 1.23180 &                       1.2045 \\
% 	      15 &  0.5665 & 2.95046 &       5.7753 &    11.4588 &    15.4837 & 1.25131 &                       1.2614 \\
% 	      20 & 15.8728 & 3.07225 &       5.3071 &    10.3935 &    13.8738 & 1.25307 &                       1.2217 \\
% 	      25 &  0.9791 & 3.19034 &       5.4575 &     9.9533 &    13.0721 & 1.27104 &                       1.2640 \\
% 	      30 &  2.0228 & 3.27474 &       5.7461 &     9.7164 &    12.2637 & 1.33404 &                       1.3209 \\
% 	      35 & 13.4210 & 3.36086 &       6.6735 &    10.0442 &    12.0270 & 1.35385 &                       1.3059 \\
% 	      40 & 13.2226 & 3.36420 &       7.7248 &    10.4495 &    12.0379 & 1.34919 &                       1.2768 \\
% 	      45 & 12.8445 & 3.47436 &       8.5539 &    10.8552 &    12.2773 & 1.42303 &                       1.4362 \\
% 	      50 & 12.9245 & 3.58228 &       9.2702 &    11.2183 &    12.3990 & 1.40922 &                       1.3724 \\
% \bottomrule
% \end{tabular}
% \end{table}  



% TODO
\chapter{Podsumowanie i wnioski}
\begin{itemize}
\item uzyskane wyniki w świetle postawionych celów i zdefiniowanych wyżej wymagań
\item kierunki ewentualnych danych prac (rozbudowa funkcjonalna …)
\item problemy napotkane w trakcie pracy
\end{itemize}



\backmatter

%\bibliographystyle{plplain}  % bibtex
%\bibliography{biblio} % bibtex
\printbibliography           % biblatex
\addcontentsline{toc}{chapter}{Bibliografia}

\begin{appendices}

% TODO
\chapter{Spis skrótów i symboli}

\begin{itemize}
\item[DNA] kwas deoksyrybonukleinowy (ang. \english{deoxyribonucleic acid})
\item[MVC] model -- widok -- kontroler (ang. \english{model--view--controller}) 
\item[$N$] liczebność zbioru danych
\item[$\mu$] stopnień przyleżności do zbioru
\item[$\mathbb{E}$] zbiór krawędzi grafu
\item[$\mathcal{L}$] transformata Laplace'a 
\end{itemize}


% TODO
\chapter{Źródła}

Jeżeli w pracy konieczne jest umieszczenie długich fragmentów kodu źródłowego, należy je przenieść w to miejsce.

\begin{lstlisting}
if (_nClusters < 1)
	throw std::string ("unknown number of clusters");
if (_nIterations < 1 and _epsilon < 0)
	throw std::string ("You should set a maximal number of iteration or minimal difference -- epsilon.");
if (_nIterations > 0 and _epsilon > 0)
	throw std::string ("Both number of iterations and minimal epsilon set -- you should set either number of iterations or minimal epsilon.");
\end{lstlisting}


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% Pakiet minted wymaga odkomentowania w pliku config/settings.tex   %
% importu pakietu minted: \usepackage{minted}                       %
% i specjalnego kompilowania:                                       %
% pdflatex -shell-escape praca                                      %
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

%\begin{minted}[linenos,breaklines,frame=lines]{c++}
%if (_nClusters < 1)
%   throw std::string ("unknown number of clusters");
%if (_nIterations < 1 and _epsilon < 0)
%   throw std::string ("You should set a maximal number of iteration or minimal difference -- epsilon.");
%if (_nIterations > 0 and _epsilon > 0)
%   throw std::string ("Both number of iterations and minimal epsilon set -- you should set either number of iterations or minimal epsilon.");
%\end{minted}


% TODO
\chapter{Lista dodatkowych plików, uzupełniających tekst pracy} 


W systemie do pracy dołączono dodatkowe pliki zawierające:
\begin{itemize}
\item źródła programu,
\item dane testowe,
\item film pokazujący działanie opracowanego oprogramowania lub zaprojektowanego i~wykonanego urządzenia,
\item itp.
\end{itemize}


\listoffigures
\addcontentsline{toc}{chapter}{Spis rysunków}
\listoftables
\addcontentsline{toc}{chapter}{Spis tabel}

\end{appendices}

\end{document}


%% Finis coronat opus.

